{"version":3,"sources":["components/Banner.js","components/InputParamsContext.js","utilities/constants.js","components/ElementSelect.js","components/SeasonSelect.js","components/RenderDate.js","components/DateSelect.js","components/RegionSelect.js","components/InfoAdornment.js","utilities/utils.js","components/SubstateSelect.js","components/StateSelect.js","components/BboxSelect.js","components/PointSelect.js","components/AlertDialog.js","components/AreaSelect.js","components/LevelsSelect.js","components/ColorsSelect.js","components/ImageSelect.js","components/OptionsSelection.js","components/DisplayRequest.js","components/LeafletMap.js","components/MapTitle.js","components/MapLegend.js","components/DisplayMap.js","components/DisplayJson.js","components/GetResults.js","components/Main.js","images/PoweredbyACIS.gif","components/App.js","index.js"],"names":["useStyles","makeStyles","theme","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","backgroundColor","appBarShift","width","marginLeft","easeOut","enteringScreen","menuButton","marginRight","spacing","color","hide","display","Banner","props","open","handleDrawerOpen","classes","AppBar","role","position","className","clsx","Toolbar","Tooltip","title","IconButton","aria-label","onClick","edge","Typography","tabIndex","variant","component","InputParamsContext","createContext","inputParams","updateInputParams","levels","updateLevels","colors","updateColors","elements","menuName","name","reduce","summary","units","String","fromCharCode","elementNames","names","date","forEach","e","months","seasons","regions","maxbbox","default_levels","server","client","default_colors","default_params","state","proj","interp","overlays","drawerWidth","infoText","areaContainer","borderLeft","borderRight","borderBottom","borderTop","padding","listContainer","marginTop","border","ElementSelect","useState","anchorEl","setAnchorEl","selectedIndex","setSelectedIndex","inputContext","useContext","isPoint","areaDef","hasOwnProperty","List","ListItem","button","aria-haspopup","aria-controls","event","currentTarget","ListItemText","primary","secondary","id","keepMounted","Boolean","onClose","map","option","index","MenuItem","selected","disabled","newElems","elems","handleMenuItemClick","SeasonSelect","useEffect","sdate","edate","menuitem","paddingTop","paddingBottom","RenderDate","dateLegend","dateParam","split","initMonth","selectMonth","setSelectMonth","TextField","select","value","label","onChange","newMonth","target","newdate","join","updateDate","margin","SelectProps","native","inputProps","i","slice","dateTypeContainer","radioButton","paddingRight","formControl","dateSeperator","lineHeight","verticalAlign","DateSelect","dateType","setDateType","FormControl","FormLabel","RadioGroup","row","newDateType","FormControlLabel","control","Radio","size","justMonth","RegionSelect","states","replaceAll","infoPopover","InfoAdornment","content","inputAdornmentClass","InputAdornment","fontSize","Popover","anchorOrigin","vertical","horizontal","transformOrigin","PaperProps","style","checkBbox","bbox","newbbox","buildParams","input_params","paramsToSubmit","grid","output","mndiff","parseInt","origElem","elem","interval","nestedElem","push","newDate","length","x","parseFloat","loc","newloc","checkLoc","console","log","newImage","image","newLevels","cmap","downloadFile","href","filename","link","document","createElement","download","body","appendChild","click","removeChild","downloadFetch","jsonparams","submitParams","JSON","stringify","meta","fetch","method","headers","then","response","ok","json","blob","Blob","type","window","URL","createObjectURL","catch","err","message","includes","progressContainer","textAlign","progressText","listItem","maxWidth","SubstateSelect","postals","stateType","counties","setCounties","fetchError","setFetchError","loading","setLoading","finally","fetchGeneral","replace","CircularProgress","stateInputLabel","mainGridContainer","vertRadioButton","StateSelect","setPostals","setStateType","InputLabel","htmlFor","OutlinedInput","spellCheck","newPostals","endAdornment","FormHelperText","Grid","container","item","newStateType","bboxInputLabel","bboxFormControl","bboxTitle","marginBottom","BboxSelect","setBbox","handleChange","newBbox","newValue","locInputLabel","locFormControl","locTitle","PointSelect","setLoc","newLoc","AlertDialog","alertStatus","handleAlertClose","alertText","Dialog","aria-labelledby","aria-describedby","DialogContent","DialogContentText","DialogActions","Button","autoFocus","AreaSelect","areaType","setAreaType","setAlertStatus","newAreaType","levelsContainer","levelFormControl","levelInputLabel","LevelsSelect","setLevels","newlevels","colorsContainer","colorFormControl","colorInputLabel","colorbarContainer","errormsg","ColorsSelect","colorCount","setColorCount","cmp","setCmp","colorError","setColorError","colormaps","require","colormap_keys","Object","keys","levelLength","newColors","val","TableContainer","Table","TableBody","TableRow","cs","TableCell","paddingLeft","gutterBottom","imageOptionsContainer","accordionDetailsContainer","accordianSummaryRoot","minHeight","accordianSummaryContent","expanded","expandIcon","vertCheckbox","ImageSelect","stateOutlines","setStateOutlines","countyOutlines","setCountyOutlines","handleCheckboxChange","checked","newOverlays","Accordion","AccordionSummary","root","AccordionDetails","Checkbox","drawer","flexShrink","drawerPaper","drawerHeader","alignItems","mixins","toolbar","justifyContent","submitButton","OptionsSelection","handleDrawerClose","handleViewMapClick","Drawer","anchor","paper","Divider","preContainer","preStyle","DisplayRequest","submittedParams","paramsString","Paper","nav","top","left","mapContainer","height","innerHeight","rangeControl","LeafletMap","imgsrc","dataBbox","range","imgcoords","setImgcoords","MapContainer","bounds","zoomControl","scrollWheelZoom","attributionControl","TileLayer","url","attribution","Polygon","pathOptions","weight","fill","positions","toFixed","ImageOverlay","opacity","zIndex","titleContainer","MapTitle","selectedElem","selectedDuration","selectedInterval","selectedName","smn","emn","selectedStart","selectedDate","same","every","keyContainer","MapLegend","imgInfo","setWidth","eachWidth","setEachWidth","ref","useRef","color_styles","levelLabels","lev","Math","abs","round","pop","shift","elemWidth","current","offsetWidth","defaultWidth","min","lv","align","downloadButton","mapImage","mapTitleContainer","DisplayMap","showParams","setShowParams","data_bbox","prev","resContainer","DisplayJson","jsonresp","eNames","sElems","col","GetResults","mapBlob","setMapBlob","setJsonresp","setImgInfo","resultsError","setResultsError","setSubmittedParams","input","params","infoInput","statusText","error","status","data","fetchResponse","flexGrow","contentShift","footerContainer","bottom","Main","viewMap","setViewMap","setInputParams","setColors","useTheme","smallScreen","useMediaQuery","breakpoints","down","setOpen","Provider","updateParams","newParams","paragraph","rel","src","alt","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.267149c2.chunk.js","sourcesContent":["import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nconst drawerWidth = 400;\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n     transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    backgroundColor:\"midnightblue\",\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`, // Also made this clientWidth\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    backgroundColor:\"midnightblue\",\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    \"&:focus\": {\n      color: \"#3f51b5\",\n      backgroundColor: \"lightblue\",\n    },\n    \"&:hover\": {\n      color: \"#3f51b5\",\n      backgroundColor: \"lightblue\",\n    },\n  },\n  hide: {\n    display: 'none',\n  },\n  }));\n\nconst Banner = (props) => {\n  const {open, handleDrawerOpen} = props;\n  const classes = useStyles();\n\n  return (\n    <>\n     <AppBar \n        role=\"banner\"\n        position=\"fixed\"\n        className={clsx(classes.appBar, { [classes.appBarShift]: open, })}>\n        <Toolbar>\n          <Tooltip title=\"Open option selection\">\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"open option selection\"\n              onClick={handleDrawerOpen}\n              edge=\"start\"\n              className={clsx(classes.menuButton, open && classes.hide)}\n            >\n              <MenuIcon />\n            </IconButton>\n          </Tooltip>\n          <Typography tabIndex=\"0\" variant=\"h6\" component=\"h1\">\n            Gridded NCEI Normals Mapper\n          </Typography>\n        </Toolbar>\n      </AppBar>\n    </>\n  )\n}\n\nexport default Banner;","import { createContext } from 'react';\n\nconst InputParamsContext = createContext({\n    inputParams: {},\n    updateInputParams: () => {},\n    levels: {},\n    updateLevels: () => {},\n    colors: {},\n    updateColors: () => {},\n});\n\nexport default InputParamsContext;","// elements in Element selection menu\nconst elements = [\n    {menuName: 'Maximum Temperature',  name: 'maxt', reduce: 'mean', summary: \"Mean\", units: String.fromCharCode(8457)},\t//set as default\n    {menuName: 'Minimum Temperature',  name: 'mint', reduce: 'mean', summary: \"Mean\", units: String.fromCharCode(8457)},\n    {menuName: 'Average Temperature',  name: 'avgt', reduce: 'mean', summary: \"Mean\", units: String.fromCharCode(8457)},\n    {menuName: 'Precipitation',        name: 'pcpn', reduce: 'sum',  summary: \"Total\",  units: 'inches'},\n    {menuName: 'All (for point only)', name: 'all',  reduce: null,   summary: null,   units: null},\n];\n\n// element names for titles\nconst elementNames = () => {\n    const names = {date: \"Date\"};\n    elements.forEach((e) => {\n        names[e.name] = e.summary + \" \" + e.menuName + \" (\" + e.units + \")\";\n    })\n    names[\"all\"] = \"All Elements\"\n    return names;\n};\n\n// month items in date selections\nconst months = ['January','February','March','April','May','June','July','August','September','October','November','December'];\n\n// seasons items in date selections\nconst seasons = [\n    ['Winter', '12', '02'],\n    ['Spring', '03', '05'],\n    ['Summer', '06', '08'],\n    ['Autumn', '09', '11'],\n    ['Annual', '01', '12'],\n];\n\n// items in Region selection menu\nconst regions = [\n    {'name': '- Climate Regions -', 'states': -1},\n    {'name': 'CONUS', 'states': 'WA-MN-FL-ME'},\n    {'name': 'Northeast', 'states': 'ME-PA-MD'},\n    {'name': 'Southeast', 'states': 'VA-FL-AL-NC'},\n    {'name': 'Upper Midwest', 'states': 'MN-IA-MI'},\n    {'name': 'Ohio Valley', 'states': 'IL-MO-TN-WV'},\n    {'name': 'South', 'states': 'KS-TX-MS'},\n    {'name': 'Northern Rockies & Plains', 'states': 'MT-NE'},\n    {'name': 'Northwest', 'states': 'WA-ID'},\n    {'name': 'West', 'states': 'CA-NV'},\n    {'name': 'Southwest', 'states': 'UT-AZ-CO'},\n    {'name': '- Regional Climate Centers -', 'states': -2},\n    {'name': 'Northeast', 'states': 'ME-WV'},\n    {'name': 'Southeast', 'states': 'VA-FL-AL-NC'},\n    {'name': 'Midwestern', 'states': 'MN-IA-MO-OH'},\n    {'name': 'Southern', 'states': 'TX-OK-TN'},\n    {'name': 'High Plains', 'states': 'ND-WY-KS'},\n    {'name': 'Western', 'states': 'CA-MT-NM'},\n    {'name': '- NWS Regions -', 'states': -3},\n    {'name': 'Eastern', 'states': 'ME-OH-SC'},\n    {'name': 'Southern', 'states': 'NM-OK-TX-FL'},\n    {'name': 'Central', 'states': 'WY-MN-MI-KY-MO'},\n    {'name': 'Western', 'states': 'WA-MT-CA'},\n    {'name': '- NCA Regions -', 'states': -4},\n    {'name': 'Northeast', 'states': 'ME-WV'},\n    {'name': 'Southeast', 'states': 'VA-FL-AR'},\n    {'name': 'Midwest', 'states': 'MN-IA-MO-OH'},\n    {'name': 'Great Plains', 'states': 'MT-TX'},\n    {'name': 'Northwest', 'states': 'WA-ID'},\n    {'name': 'Southwest', 'states': 'CA-WY-NM'},\n];\n\n// maximum bounds\nconst maxbbox = {\n    west: -124.66667,\n    south: 24.541699,\n    east: -67.000000,\n    north: 49.333366,\n};\n\n// initial levels object\nconst default_levels = {\n    server: [], \n    client: [],\n};\n\n// initial colors object\nconst default_colors = {\n    server: [], \n    client: [],\n};\n\n// default image settings\nconst default_imageParams = {\n    proj: \"3857\", \n    width: 800, \n    interp: \"none\",\n//  levels: [50,55,60,65,70],\n    overlays: [\n        \"state:1:black\", \n        \"county:0.5:grey\"\n    ],\n};\n\n// default set of input parameters\nconst default_params = {\n    \"grid\":\"ncei-norm:91-20\",\n    //\"state\":\"ME,WV\",\n    \"areaDef\":{state: \"ME,WV\"},\n    \"sdate\":\"1991-01\",\n    \"edate\":\"1991-01\",\n    \"elems\":[{\n      \"name\":\"maxt\",\n      \"interval\":[0,1],\n      \"duration\":1,\n      \"reduce\":\"mean\"\n    }],\n    \"output\":\"png\",\n    \"image\": default_imageParams,\n};\n\n\n// width of options drawer\nconst drawerWidth = 400;\n\n// text in information popups\nconst infoText = {\n    postal: `A list of state abbreviations will return a map emcompassing all states in the list. \n    For example, \"ME,WV\" will return the Northeast. For menus under \"State options\", the list of items will be \n    all those at least partially within the individual states in the list.`,\n    bbox: 'Longitudes in the Western Hemisphere are negative. Postive West and East values entered here will be changed to negative.',\n    loc: 'Longitudes in the Western Hemisphere are negative. Postive longitude values entered here will be changed to negative.',\n    levels: 'Enter comma-separated contour levels from lowest to highest. Leave blank for server defaults. Changes will be used on subsequent maps unitl cleared.',\n    colors: 'Color map not defined for this number of levels.',\n};\n\nexport {elements, elementNames, regions, months, seasons, default_params, default_imageParams, default_levels, default_colors, drawerWidth, infoText, maxbbox};","import React, {useContext, useState} from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputParamsContext from './InputParamsContext';\nimport { elements } from '../utilities/constants';\n\nconst useStyles = makeStyles((theme) => ({\n\tareaContainer: {\n\t\tborderLeft: \"1pt solid midnightblue\",\n\t\tborderRight: \"1pt solid midnightblue\",\n\t\tborderBottom: \"1pt solid midnightblue\",\n\t\tborderTop: \"0\",\n\t\tpadding: \"1em 1em\",\n\t},\n\tlistContainer: {\n\t\tmarginTop: \"0.5em\",\n\t\tborder: \"1pt solid lightgray\",\n\t\tpadding: 0,\n\t},\n}));\n\nconst ElementSelect = () => {\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [selectedIndex, setSelectedIndex] = useState(0);\n\tconst inputContext = useContext(InputParamsContext);\n\tconst classes = useStyles();\n\tconst isPoint = inputContext.inputParams.areaDef.hasOwnProperty('loc');\n\n\tconst handleClickListItem = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\n\tconst handleMenuItemClick = (event, index) => {\n\t\tsetSelectedIndex(index);\n\t\tsetAnchorEl(null);\n\t\tconst newElems = inputContext.inputParams.elems;\n\t\tnewElems[0] = {...newElems[0], name: elements[index].name, reduce: elements[index].reduce}\n\t\tinputContext.updateInputParams({elems: newElems});\n\t};\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\n\treturn (\n\t\t<div className={classes.areaContainer}>\n\t\t\t<Typography variant=\"body1\">\n\t\t\t\tSelect element\n\t\t\t</Typography>\n\t\t\t<List className={classes.listContainer} aria-label=\"Element selection\">\n\t\t\t\t<ListItem\n\t\t\t\t\tbutton\n\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\taria-controls=\"element-menu\"\n\t\t\t\t\taria-label=\"selected-element\"\n\t\t\t\t\tonClick={handleClickListItem}\n\t\t\t\t>\n\t\t\t\t\t<ListItemText primary=\"Click to select element\" secondary={\"Currently selected: \"+elements[selectedIndex].menuName} />\n\t\t\t\t</ListItem>\n\t\t\t</List>\n\t\t\t<Menu\n\t\t\t\tid=\"element-menu\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tkeepMounted\n\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\tonClose={handleClose} \n\t\t\t>\n\t\t\t\t{elements.map((option, index) => (\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tkey={option.menuName}\n\t\t\t\t\t\tselected={index === selectedIndex}\n\t\t\t\t\t\tdisabled={option.name === 'all' && !isPoint}\n\t\t\t\t\t\tonClick={(event) => handleMenuItemClick(event, index)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{option.menuName}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t))}\n\t\t\t</Menu>\n\t\t</div>\n\t);\n}\n\nexport default ElementSelect;","import React, { useContext, useEffect, useState } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputParamsContext from './InputParamsContext';\nimport { seasons } from '../utilities/constants';\n\nconst useStyles = makeStyles((theme) => ({\n\tlistContainer: {\n\t\tborder: \"1pt solid lightgray\",\n\t\tpadding: 0,\n\t},\n}));\n\nconst SeasonSelect = () => {\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [selectedIndex, setSelectedIndex] = useState(0);\n\tconst inputContext = useContext(InputParamsContext);\n\tconst classes = useStyles();\n\n\tconst handleClickListItem = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\n\tconst handleMenuItemClick = (event, index) => {\n\t\tsetSelectedIndex(index);\n\t\tsetAnchorEl(null);\n\t\tinputContext.updateInputParams({sdate:\"1991-\"+seasons[index][1], edate:\"1991-\"+seasons[index][2]});\n\t};\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tuseEffect(() => {\n\t\tinputContext.updateInputParams({sdate:\"1991-\"+seasons[selectedIndex][1], edate:\"1991-\"+seasons[selectedIndex][2]});\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t<List className={classes.listContainer} aria-label=\"Season selection\">\n\t\t\t\t<ListItem\n\t\t\t\t\tbutton\n\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\taria-controls=\"season-menu\"\n\t\t\t\t\taria-label=\"selected season\"\n\t\t\t\t\tonClick={handleClickListItem}\n\t\t\t\t>\n\t\t\t\t\t<ListItemText primary=\"Click to select season\" secondary={\"Currently selected: \"+seasons[selectedIndex][0]} />\n\t\t\t\t</ListItem>\n\t\t\t</List>\n\t\t\t<Menu\n\t\t\t\tid=\"season-menu\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tkeepMounted\n\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\tonClose={handleClose} \n\t\t\t>\n\t\t\t\t{seasons.map((option, index) => (\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tselected={index === selectedIndex}\n\t\t\t\t\t\tonClick={(event) => handleMenuItemClick(event, index)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{option[0]}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t))}\n\t\t\t</Menu>\n\t\t</div>\n\t);\n}\n\nexport default SeasonSelect;","import React, { useState, useContext } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputParamsContext from './InputParamsContext';\nimport { months } from '../utilities/constants';\n\n// This component was modified from the original to only allow month selection\n\nconst useStyles = makeStyles((theme) => ({\n\tmenuitem: {\n\t\tpaddingTop: \"1px\",\n\t\tpaddingBottom: \"1px\",\n\t},\n}));\n\nconst RenderDate = (props) => {\n\tconst { dateLegend, dateParam, id } = props;\n\tconst inputContext = useContext(InputParamsContext);\n\tconst [, initMonth] = inputContext.inputParams[dateParam === 'date' ? 'edate' : dateParam].split(\"-\");\n\tconst [selectMonth, setSelectMonth] = useState(initMonth);\n\tconst classes = useStyles();\n\n\tconst updateDate = (newMonth) => {\n\t\tconst newdate = [\"1991\", newMonth].join(\"-\");\n\t\tif (dateParam === 'date') {\n\t\t\tinputContext.updateInputParams({sdate:newdate, edate:newdate});\n\t\t} else {\n\t\t\tinputContext.updateInputParams({[dateParam]:newdate});\n\t\t}\n\t};\n\t\n\tconst handleChangeMonth = () => event => {\n\t\tconst newMonth = event.target.value;\n\t\tsetSelectMonth(newMonth);\n\t\tupdateDate(newMonth);\n\t};\n\n\tconst serialMonthOptions = () => {\n\t\treturn (\n\t\t\tmonths.map((option,i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<MenuItem \n\t\t\t\t\t\tkey={\"m\"+i} \n\t\t\t\t\t\tclassName={classes.menuitem}\n\t\t\t\t\t\tvalue={(\"0\" + (i+1)).slice(-2)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{option}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t)\n\t\t\t})\n\t\t);\n\t};\n\n\treturn (\n\t\t<>\n  \t\t\t<TextField\n\t\t\t\tselect\n\t\t\t\tvalue={selectMonth}\n\t\t\t\tlabel={dateLegend}\n\t\t\t\tid={id}\n\t\t\t\tonChange={handleChangeMonth()}\n\t\t\t\tmargin=\"dense\"\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tSelectProps={{ native: false }}\n\t\t\t\tinputProps={{ \"id\":id }}\n\t\t\t>\n\t\t\t\t{serialMonthOptions()}\n\t\t\t</TextField>\n\t\t</>\n\t)\n}\nexport default RenderDate;\n","import React, { useState, useContext } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputParamsContext from './InputParamsContext';\nimport SeasonSelect from './SeasonSelect';\nimport RenderDate from './RenderDate';\n\nconst useStyles = makeStyles((theme) => ({\n\tdateTypeContainer: {\n\t\tborderLeft: \"1pt solid midnightblue\",\n\t\tborderRight: \"1pt solid midnightblue\",\n\t\tborderBottom: \"1pt solid midnightblue\",\n\t\tpadding: \"1em 1em\",\n\t},\n\tradioButton: {\n\t\tcolor: \"midnightblue !important\",\n\t\tpaddingRight: \"3px\",\n\t},\n\tformControl: {\n\t\tmarginTop: \"0.5em\",\n\t},\n\tdateSeperator: {\n\t\tdisplay: \"inline-block\",\n\t\tlineHeight: \"2.5em\",\n\t\tverticalAlign: \"bottom\",\n\t\tmargin: \"0.5em 0.5em 0.25em\",\n\t},\n}));\n\nconst DateSelect = () => {\n\tconst [dateType, setDateType] = useState('month');\n\tconst classes = useStyles();\n\tconst inputContext = useContext(InputParamsContext);\n \n\tconst handleTypeChange = (event) => {\n\t\tconst newDateType = event.target.value;\n\t\tsetDateType(newDateType);\n\t\tif (newDateType === 'month') {\n\t\t\tinputContext.updateInputParams({sdate: inputContext.inputParams.edate});\n\t\t}\n\t};\n\t\n\treturn (\n\t\t<div className={classes.dateTypeContainer}>\n\t\t\t<Typography variant=\"body1\">\n\t\t\t\tSelect date\n\t\t\t</Typography>\n\n\t\t\t<FormControl component=\"fieldset\" className={classes.formControl}>\n\t\t\t\t<FormLabel component=\"legend\">Date type:</FormLabel>\n\t\t\t\t<RadioGroup row aria-label=\"date type\" name=\"datetype\" value={dateType} onChange={handleTypeChange}>\n\t\t\t\t\t<FormControlLabel value=\"month\" control={<Radio size=\"small\" className={classes.radioButton} />} label=\"Month\" />\n\t\t\t\t\t<FormControlLabel value=\"season\" control={<Radio size=\"small\" className={classes.radioButton} />} label=\"Season/Year\" />\n\t\t\t\t\t<FormControlLabel value=\"interval\" control={<Radio size=\"small\" className={classes.radioButton} />} label=\"Interval\" />\n\t\t\t\t</RadioGroup>\n\t\t\t</FormControl>\n\n\t\t\t{dateType === 'interval' &&\n\t\t\t\t<div>\n\t\t\t\t\t<RenderDate\n\t\t\t\t\t\tdateLegend='Start month'\n\t\t\t\t\t\tdateParam='sdate'\n\t\t\t\t\t\tid=\"select-smonth\"\n\t\t\t\t\t\tjustMonth={true}\n\t\t\t\t\t/>\n\t\t\t\t\t<Typography className={classes.dateSeperator}>\n\t\t\t\t\t\t-\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<RenderDate \n\t\t\t\t\t\tdateLegend='End month'\n\t\t\t\t\t\tdateParam='edate'\n\t\t\t\t\t\tid=\"select-emonth\"\n\t\t\t\t\t\tjustMonth={true}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t{dateType === 'month' &&\n\t\t\t\t<div>\n\t\t\t\t\t<RenderDate\n\t\t\t\t\t\tdateLegend='Month'\n\t\t\t\t\t\tdateParam='date'\n\t\t\t\t\t\tid=\"select-month\"\n\t\t\t\t\t\tjustMonth={true}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t}\n\t\t\t{dateType === 'season' &&\n\t\t\t\t<SeasonSelect />\n\t\t}\n\t\t</div>\n\t)\n}\n\nexport default DateSelect;\n\n/*\n\t\tnewElems[0] = {...newElems[0], interval: newDateType === 'month' ? [0,1] : [0,0,1], duration: newDateType === 'interval' ? null : 1} // \"interval\" duration set in Getimage\n\t\t\t\t\t<FormControlLabel value=\"day\" control={<Radio size=\"small\" className={classes.radioButton} />} label=\"Day\" />\n\n\t\t\t{dateType === 'day' &&\n\t\t\t\t<div>\n\t\t\t\t\t<RenderDate\n\t\t\t\t\t\tdateLegend='Date'\n\t\t\t\t\t\tdateParam='edate'\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t}\n\n\t\t\tdateType === 'interval' &&\n\t\t\t\t<div>\n\t\t\t\t\t<RenderDate\n\t\t\t\t\t\tdateLegend='Start date'\n\t\t\t\t\t\tdateParam='sdate'\n\t\t\t\t\t/>\n\t\t\t\t\t<Typography className={classes.dateSeperator}>\n\t\t\t\t\t\t-\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<RenderDate \n\t\t\t\t\t\tdateLegend='End date'\n\t\t\t\t\t\tdateParam='edate'\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t}\n\n*/","import React, { useContext, useEffect, useState } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputParamsContext from './InputParamsContext';\nimport { regions } from '../utilities/constants';\n\nconst useStyles = makeStyles((theme) => ({\n\tlistContainer: {\n\t\tborder: \"1pt solid lightgray\",\n\t\tpadding: 0,\n\t},\n}));\n\nconst RegionSelect = () => {\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [selectedIndex, setSelectedIndex] = useState(12);  // default (ME,WV)\n\tconst inputContext = useContext(InputParamsContext);\n\tconst classes = useStyles();\n\n\tconst handleClickListItem = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\n\tconst handleMenuItemClick = (event, index) => {\n\t\tsetSelectedIndex(index);\n\t\tsetAnchorEl(null);\n\t\tinputContext.updateInputParams({areaDef: {state:regions[index].states.replaceAll('-',',')}});\n\t};\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tuseEffect(() => {\n\t\tinputContext.updateInputParams({areaDef: {state:regions[selectedIndex].states.replaceAll('-',',')}});\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<List className={classes.listContainer} aria-label=\"Region selection\">\n\t\t\t\t<ListItem\n\t\t\t\t\tbutton\n\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\taria-controls=\"reguib-menu\"\n\t\t\t\t\taria-label=\"selected region\"\n\t\t\t\t\tonClick={handleClickListItem}\n\t\t\t\t>\n\t\t\t\t\t<ListItemText primary=\"Click to select region\" secondary={\"Currently selected: \"+regions[selectedIndex].name} />\n\t\t\t\t</ListItem>\n\t\t\t</List>\n\t\t\t<Menu\n\t\t\t\tid=\"element-menu\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tkeepMounted\n\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\tonClose={handleClose} \n\t\t\t>\n\t\t\t\t{regions.map((option, index) => (\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tselected={index === selectedIndex}\n\t\t\t\t\t\tdisabled={option.states < 0}\n\t\t\t\t\t\tonClick={(event) => handleMenuItemClick(event, index)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{option.name}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t))}\n\t\t\t</Menu>\n\t\t</>\n\t);\n}\n\nexport default RegionSelect;","import React, {useState} from 'react';\nimport InfoIcon from '@material-ui/icons/Info';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport Popover from '@material-ui/core/Popover';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { drawerWidth } from '../utilities/constants';\n\nconst useStyles = makeStyles((theme) => ({\n\tinfoPopover: {\n        width: drawerWidth+\"px\",\n\t},\n}));\n\nconst InfoAdornment = (props) => {\n  const { content, inputAdornmentClass=null, edge=\"end\" } = props;\n  const [anchorEl, setAnchorEl] = useState();\n  const classes = useStyles();\n\n  const handleInfoClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleInfoClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <>\n    <InputAdornment position=\"end\" className={inputAdornmentClass} >\n      <IconButton \n        aria-label=\"toggle info pane visibility\"\n        onClick={handleInfoClick} \n        tabIndex=\"-1\" \n        edge={edge}\n      >\n        <InfoIcon fontSize=\"small\" />\n      </IconButton>\n    </InputAdornment>\n\n\n    <Popover\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleInfoClose}\n        className={classes.infoPopover}\n        anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'center',\n        }}\n        transformOrigin={{\n            vertical: 'top',\n            horizontal: 'center',\n        }}\n        PaperProps={{style:{padding:\"0.5em\", border: \"1pt solid midnightblue\", backgroundColor:\"whitesmoke\"}}}\n    >\n        <Typography variant=\"body1\">\n            {content}\n        </Typography>\n    </Popover>\n</>\n\n  );\n}\n\nexport default InfoAdornment;\n","import { elements, maxbbox } from '../utilities/constants';\n\n//const dateDiff = (date1, date2) => {\n//\tconst sdate = date1 instanceof Date ? date1 : new Date(date1);\n//\tconst edate = date2 instanceof Date ? date2 : new Date(date2);\n//\tconst one_day = 1000 * 60 * 60 * 24;\n//\treturn (Math.round((edate.getTime() - sdate.getTime()) / one_day));\n//};\n\n// check bounding box \nconst checkBbox = bbox => {\n\tconst newbbox = [...bbox]\n\tif (bbox[0] < maxbbox.west) {\n\t\tnewbbox[0] = maxbbox.west;\n\t}\n\tif (bbox[1] < maxbbox.south) {\n\t\tnewbbox[1] = maxbbox.south;\n\t}\n\tif (bbox[2] > maxbbox.east) {\n\t\tnewbbox[2] = maxbbox.east;\n\t}\n\tif (bbox[3] > maxbbox.north) {\n\t\tnewbbox[3] = maxbbox.north;\n\t}\n\treturn newbbox;\n};\n\n// check point \nconst checkLoc = loc => {\n\tconst newloc = [...loc]\n\tif (loc[0] < maxbbox.west) {\n\t\tnewloc[0] = maxbbox.west;\n\t}\n\tif (loc[1] < maxbbox.south) {\n\t\tnewloc[1] = maxbbox.south;\n\t}\n\tif (loc[0] > maxbbox.east) {\n\t\tnewloc[0] = maxbbox.east;\n\t}\n\tif (loc[1] > maxbbox.north) {\n\t\tnewloc[1] = maxbbox.north;\n\t}\n\treturn newloc;\n};\n\nconst buildParams = (input_params) => {\n\tlet paramsToSubmit = {grid: input_params.grid, output: input_params.output};\n\t//console.log(input_params) // for debugging\n\n\t// For \"interval\" date selection, calculate duration based on sdate and edate. \n\tconst mndiff = parseInt(input_params.edate.split(\"-\")[1]) - parseInt(input_params.sdate.split(\"-\")[1]);\n\tconst duration = mndiff + (mndiff >= 0 ? 1 : 13);\n\n\t// Set up nested elements\n\tconst origElem = input_params.elems[0];\n\tconst newElems = [\n\t\t{\n\t\t\telem: origElem, \n\t\t\tinterval: [0,1], \n\t\t\tduration: duration, \n\t\t\treduce: origElem.reduce\n\t\t}\n\t];\n\n\t// Replicate nested elems for all variables, if requested for a single grid point\n\tif (origElem.name === 'all') {\n\t\tlet nestedElem = {...newElems[0].elem, name: 'maxt', reduce: elements[0].reduce};\n\t\tnewElems[0] = {...newElems[0], elem:nestedElem, reduce: elements[0].reduce};\n\t\t['mint','avgt','pcpn'].forEach((elem,i) => {\n\t\t\tnestedElem = {...newElems[0].elem, name: elem, reduce: elements[i+1].reduce};\n\t\t\tnewElems.push({...newElems[0], elem: nestedElem, reduce: elements[i+1].reduce});\n\t\t});\n\t}\n\n\t// Add actual elems as modified above to paramenters object\n\tparamsToSubmit.elems = newElems;\n\n\t// send just date instead of sdate and edate.\n\tconst newDate = input_params.elems[0].interval.length === 2 ? input_params.edate.slice(0, 7) : input_params.edate;\n\tparamsToSubmit.date = newDate;\n\n\t// areaDef is type (state, loc, bbox) and value of area of interest.\n\tif (input_params.areaDef.bbox) {\n\t\tinput_params.areaDef.bbox = input_params.areaDef.bbox.map(x => parseFloat(x))\n\t\tconst newbbox = checkBbox(input_params.areaDef.bbox);\n\t\tparamsToSubmit = {...paramsToSubmit, bbox: newbbox};\n\t\t//console.log(input_params.areaDef.bbox)\n\t} else if (input_params.areaDef.loc) {\n\t\tinput_params.areaDef.loc = input_params.areaDef.loc.map(x => parseFloat(x))\n\t\tconst newloc = checkLoc(input_params.areaDef.loc);\n\t\tparamsToSubmit = {...paramsToSubmit, loc: newloc};\n\t} else if (input_params.areaDef.state) {\n\t\tparamsToSubmit = {...paramsToSubmit, ...input_params.areaDef};\n\t} else {\n\t\tconsole.log(\"unknown areaDef\");\n\t}\n\t\n\t// point location can only be json\n\tif (paramsToSubmit.loc) {\n\t\tparamsToSubmit = {...paramsToSubmit, output: \"json\"};\n\t}\n\n\t// added image object if png output\n\tif (paramsToSubmit.output === 'png') {\n\t\tlet newImage = {...input_params.image};\n\t\t// convert levels string (from Image Settings) to array\n\t\tif (input_params.image.levels && typeof input_params.image.levels === 'string') {\n\t\t\tconst splitLevels = input_params.image.levels.split(\",\");\n\t\t\tconst newLevels = splitLevels.map(x => parseFloat(x));\n\t\t\tnewImage = {...newImage, levels: newLevels};\n\t\t}\n\t\t// leave off empty levels element\n\t\tif (input_params.image.hasOwnProperty('levels') && (input_params.image.levels === \"\" || input_params.image.levels.length === 0)) {\n\t\t\tdelete newImage.levels;\n\t\t\tdelete newImage.cmap;\n\t\t}\n\t\tif (input_params.image.hasOwnProperty('cmap') && input_params.image.cmap.length === 0) {\n\t\t\tdelete newImage.cmap;\n\t\t}\n\n\t\tparamsToSubmit = {...paramsToSubmit, image: newImage};\n\t}\n\n\treturn paramsToSubmit;\t\n};\n\n// download a retrieved png image\nconst downloadFile = (href, filename) => {\n\tconst link = document.createElement('a');\n\tlink.href = href;\n\tlink.download = filename;\n\tdocument.body.appendChild(link);\n\tlink.click();\n\tdocument.body.removeChild(link);\n};\n\n// retrieve and download a geotiff or json file\nconst downloadFetch = (jsonparams, filename, output) => {\n\tif (output === 'json') {\n\t\tdelete jsonparams.image;\n\t}\n\tconst submitParams = JSON.stringify({...jsonparams, output:output, meta:\"ll\"});\n\tfetch(\"https://grid2.rcc-acis.org/GridData\", {body: submitParams, method: \"POST\", headers: {'Content-Type': 'application/json'}})\n\t\t.then(response => {\n\t\t\tif (!response.ok) {\n\t\t\t\tconsole.log(\"Error fetching the results\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn output === 'json' ? response.json() : response.blob();\n\t\t})\n\t\t.then(response => {\n\t\t\tvar blob;\n\t\t\tif (output === 'json') {\n\t\t\t\tconst json = JSON.stringify(response);\n  \t\t\t\tblob = new Blob([json], {type:'application/json'});\n\t\t\t} else {\n\t\t\t\tblob = response;\n\t\t\t}\n\t\t\tconst href = window.URL.createObjectURL(blob);\n\t\t\tdownloadFile(href, filename)\n\t\t})\n\t\t.catch(err => {\n\t\t\tif (err.message.includes(\"Failed to execute 'createObjectURL' on 'URL'\")) {\n\t\t\t\tconsole.log(\"Invalid grid request - \"+jsonparams);\n\t\t\t} else {\n\t\t\t\tconsole.log(err.message);\n\t\t\t};\n\t\t});\n};\n\nexport { buildParams, checkBbox, downloadFile, downloadFetch };","import React, { useEffect, useState, useContext } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport InputParamsContext from './InputParamsContext';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { checkBbox } from '../utilities/utils';\n\nconst useStyles = makeStyles((theme) => ({\n\tprogressContainer: {\n        margin: \"1.5em 3em\",\n        textAlign: \"center\",\n    },\n    progressText: {\n        margin: 0,\n        padding: \"6px\",\n        color:  \"rgba(0,0,0,0.54)\",\n    },\n    listContainer: {\n\t\tborder: \"1pt solid lightgray\",\n        padding: 0,\n    },\n    listItem: {\n        padding: \"0 8px\",\n        maxWidth: \"13em\",\n    }\n}));\n\nconst SubstateSelect = (props) => {\n\tconst { postals, stateType } = props;\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [selectedIndex, setSelectedIndex] = useState(0);\n    const [counties, setCounties] = useState();\n    const [fetchError, setFetchError] = useState();\n\tconst [loading, setLoading] = useState(false);\n    const inputContext = useContext(InputParamsContext);\n    const classes = useStyles();\n\n    const fetchGeneral = (jsonparams) => {\n        if (postals.length >= 2) {\n            fetch(\"https://data.rcc-acis.org/General/\"+stateType, {body: jsonparams, method: \"POST\", headers: {'Content-Type': 'application/json'}})\n                .then(response => {\n                    if (!response.ok) {\n                        setFetchError(\"Error fetching the list\");\n                        return;\n                    }\n                    return response.json()\n                })\n                .then(response => {\n                    if (response.meta && response.meta.length) {\n                        setCounties(response.meta);\n                        setSelectedIndex(0);\n                        let bbox = response.meta[0].bbox;\n                        bbox = checkBbox(bbox);\n                        inputContext.updateInputParams({areaDef: {bbox: bbox}});\n                    } else {\n                        setFetchError(\"No list for \"+postals);\n                    }\n                })\n                .catch(err => {\n                    if (err.message.includes(\"Failed to execute 'createObjectURL' on 'URL'\")) {\n                        setFetchError(\"Invalid request\");\n                    } else {\n                        setFetchError(err.message);\n                    };\n                })\n                .finally(() => {\n                    setLoading(false);\n                });\n        } else {\n            setFetchError(\"Specify valid state above\");\n            setLoading(false);\n        }\n    };\n\n\tconst handleClickListItem = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\n\tconst handleMenuItemClick = (event, index) => {\n\t\tsetSelectedIndex(index);\n\t\tsetAnchorEl(null);\n        let bbox = counties[index].bbox;\n        bbox = checkBbox(bbox);\n\t\tinputContext.updateInputParams({areaDef: {bbox: bbox}});\n\t};\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\n    useEffect(() => {\n\t\t// Reset \n\t\tsetFetchError();\n\t\tsetLoading(true);\n        setCounties(null);\n        // Get list\n        const jsonparams = JSON.stringify({state: postals, meta: \"name,id,bbox\"});\n        fetchGeneral(jsonparams);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [ postals, stateType ]);\n\t\n\treturn (\n        <>\n        {counties &&\n            <>\n            <List className={classes.listContainer} aria-label={stateType+\" selection\"}>\n                <ListItem\n                    button\n                    className={classes.listItem}\n                    aria-haspopup=\"true\"\n                    aria-controls={stateType+\"-menu\"}\n                    aria-label={\"selected \"+stateType}\n                    onClick={handleClickListItem}\n                >\n                    <ListItemText \n                        primary={\"Click to select \"+stateType} \n                        secondary={counties[selectedIndex] ? \"Selected: \"+counties[selectedIndex].name.replace(/County|Parish/,\"\") : \"\"} \n                    />\n                </ListItem>\n            </List>\n            <Menu\n                id={stateType+\"-menu\"}\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose} \n            >\n                {counties.map((option, index) => (\n                    <MenuItem\n                        key={option.id}\n                        selected={index === selectedIndex}\n                        onClick={(event) => handleMenuItemClick(event, index)}\n                        \n                    >\n                        {option.name.replace(/County|Parish/gi,\"\")}\n                    </MenuItem>\n                ))}\n            </Menu>\n            </>\n        }\n        {loading &&\n            <div className={classes.progressContainer}>\n                <CircularProgress size=\"1em\" />\n                <p className={classes.progressText}>Loading</p>\n            </div>\n        }\n        {fetchError &&\n            <p>{fetchError}</p>\n        }\n        </>\n\t);\n };\n\nexport default SubstateSelect;\n","import React, { useState, useContext, useEffect } from 'react';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputParamsContext from './InputParamsContext';\nimport { infoText } from '../utilities/constants';\nimport InfoAdornment from './InfoAdornment';\nimport SubstateSelect from './SubstateSelect';\n\nconst useStyles = makeStyles((theme) => ({\n\tstateInputLabel: {\n\t\tcolor: \"rgba(0,0,0,0.87)\",\n\t},\n\tmainGridContainer: {\n\t\tmarginTop: \"0.5em\",\n\t},\n\tvertRadioButton: {\n\t\tcolor: \"midnightblue !important\",\n\t\tpadding: \"6px\",\n\t\tfontSize: \"90%\",\n\t},\n}));\n\nconst StateSelect = () => {\n\t\tconst inputContext = useContext(InputParamsContext);\n\t\tconst [postals, setPostals] = useState(inputContext.inputParams.areaDef.state ? inputContext.inputParams.areaDef.state : \"ME,WV\");\n\t\tconst [stateType, setStateType] = useState(\"all\");\n\t\tconst classes = useStyles();\n\t\t\n\t\tconst handleTypeChange = (event) => {\n\t\t\tconst newStateType = event.target.value;\n\t\t\tsetStateType(newStateType);\n\t\t\tif (newStateType === 'all') {\n\t\t\t\tinputContext.updateInputParams({areaDef: {state: postals}, stateType: newStateType});\n\t\t\t} else {\n\t\t\t\tinputContext.updateInputParams({stateType: newStateType});\n\t\t\t}\n\t\t};\n\n\t\tconst handleStateChange = (event) => {\n\t\t\tconst newPostals = event.target.value.replace(\" \",\"\");\n\t\t\tsetPostals(newPostals);\n\t\t\tinputContext.updateInputParams({areaDef: {state:newPostals}});\t\n\t\t};\n\n\t\tuseEffect(() => {\n\t\t\tinputContext.updateInputParams({areaDef: {state: inputContext.inputParams.areaDef.state ? inputContext.inputParams.areaDef.state : \"ME,WV\"}});\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\t}, []);\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<FormControl variant=\"outlined\">\n\t\t\t\t\t<InputLabel htmlFor=\"stateInput\" className={classes.stateInputLabel}>State(s)</InputLabel>\n\t\t\t\t\t<OutlinedInput\n\t\t\t\t\t\tvalue={postals}\n\t\t\t\t\t\tid=\"stateInput\"\n\t\t\t\t\t\tlabel=\"State(s)\"\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tinputProps={{ spellCheck: false }}\n\t\t\t\t\t\tonChange={handleStateChange}\n\t\t\t\t\t\tendAdornment={<InfoAdornment content={infoText.postal} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormHelperText>Enter one or more state postal abbreviations</FormHelperText>\n\t\t\t\t</FormControl>\n\n\t\t\t\t<Grid container spacing={0} className={classes.mainGridContainer}>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<FormControl component=\"fieldset\">\n\t\t\t\t\t\t\t<FormLabel component=\"legend\">State options:</FormLabel>\n\t\t\t\t\t\t\t<RadioGroup  aria-label=\"state type\" name=\"statetype\" value={stateType} onChange={handleTypeChange}>\n\t\t\t\t\t\t\t\t<FormControlLabel \n\t\t\t\t\t\t\t\t\tvalue=\"all\" \n\t\t\t\t\t\t\t\t\tcontrol={<Radio size=\"small\" className={classes.vertRadioButton} />} \n\t\t\t\t\t\t\t\t\tlabel=\"Entire area\" \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControlLabel \n\t\t\t\t\t\t\t\t\tvalue=\"county\" \n\t\t\t\t\t\t\t\t\tcontrol={<Radio size=\"small\" className={classes.vertRadioButton}/>} \n\t\t\t\t\t\t\t\t\tlabel=\"County\" \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControlLabel \n\t\t\t\t\t\t\t\t\tvalue=\"climdiv\" \n\t\t\t\t\t\t\t\t\tcontrol={<Radio size=\"small\" className={classes.vertRadioButton} />} \n\t\t\t\t\t\t\t\t\tlabel=\"Climate division\" \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControlLabel \n\t\t\t\t\t\t\t\t\tvalue=\"cwa\" \n\t\t\t\t\t\t\t\t\tcontrol={<Radio size=\"small\" className={classes.vertRadioButton} />} \n\t\t\t\t\t\t\t\t\tlabel=\"CWA\" \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControlLabel \n\t\t\t\t\t\t\t\t\tvalue=\"basin\" \n\t\t\t\t\t\t\t\t\tcontrol={<Radio size=\"small\" className={classes.vertRadioButton} />} \n\t\t\t\t\t\t\t\t\tlabel=\"Basin\" \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t{(stateType !== \"all\") &&\n\t\t\t\t\t\t\t<SubstateSelect postals={postals} stateType={stateType} />\n\t\t\t\t\t\t}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</>\n\t\t);\n };\n\nexport default StateSelect;\n","import React, { useState, useContext, useEffect } from 'react';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InfoAdornment from './InfoAdornment';\nimport { infoText } from '../utilities/constants';\nimport InputParamsContext from './InputParamsContext';\n\nconst useStyles = makeStyles((theme) => ({\n\tbboxInputLabel: {\n\t\tcolor: \"rgba(0,0,0,0.87)\",\n\t},\n\tbboxFormControl: {\n\t\twidth: \"20%\",\n\t\tmarginRight: \"0.5em\",\n\t},\n\tbboxTitle: {\n\t\tmarginBottom: \"0.75em\",\n\t},\n\tinputAdornmentClass: {\n\t\tdisplay: \"inline-flex\",\n\t\tverticalAlign: \"text-bottom\",\n\t}\n}));\n\nconst BboxSelect = () => {\n\tconst inputContext = useContext(InputParamsContext);\n\tconst [bbox, setBbox] = useState(['','','','']);\n\tconst classes = useStyles();\n\n\tconst handleChange = (event, index) => {\n\t\tconst newBbox = bbox;\n\t\tlet newValue = event.target.value;\n\t\t// longitude must be negative\n\t\tif ((index === 0 || index === 2) && newValue > 0) {\n\t\t\tnewValue = newValue * -1.0\n\t\t}\n\t\tnewBbox[index] = newValue;\n\t\tsetBbox(newBbox);\n\t\tinputContext.updateInputParams({areaDef: {bbox:newBbox}})\n\t};\n\t\n\tuseEffect(() => {\n\t\tinputContext.updateInputParams({areaDef: {bbox:['','','','']}});\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<FormControl size=\"small\" className={classes.bboxTitle}>\n\t\t\t\t<FormLabel>Specify bounding box in decimal degrees:</FormLabel>\n\t\t\t</FormControl>\n\n\t\t\t<FormControl variant=\"outlined\" size=\"small\" className={classes.bboxFormControl}>\n\t\t\t\t<InputLabel htmlFor=\"bboxInputW\" className={classes.bboxInputLabel}>West</InputLabel>\n\t\t\t\t<OutlinedInput\n\t\t\t\t\tvalue={bbox[0]}\n\t\t\t\t\tid=\"bboxInputW\"\n\t\t\t\t\tlabel=\"West\"\n\t\t\t\t\tonChange={(event) => handleChange(event, 0)}\n\t\t\t\t/>\n\t\t\t </FormControl>\n\n\t\t\t<FormControl variant=\"outlined\" size=\"small\" className={classes.bboxFormControl}>\n\t\t\t\t<InputLabel htmlFor=\"bboxInputS\" className={classes.bboxInputLabel}>South</InputLabel>\n\t\t\t\t<OutlinedInput\n\t\t\t\t\tvalue={bbox[1]}\n\t\t\t\t\tid=\"bboxInputS\"\n\t\t\t\t\tlabel=\"South\"\n\t\t\t\t\tonChange={(event) => handleChange(event, 1)}\n\t\t\t\t/>\n\t\t\t</FormControl>\n\n\t\t\t<FormControl variant=\"outlined\" size=\"small\" className={classes.bboxFormControl}>\n\t\t\t\t<InputLabel htmlFor=\"bboxInputE\" className={classes.bboxInputLabel}>East</InputLabel>\n\t\t\t\t<OutlinedInput\n\t\t\t\t\tvalue={bbox[2]}\n\t\t\t\t\tid=\"bboxInputE\"\n\t\t\t\t\tlabel=\"East\"\n\t\t\t\t\tonChange={(event) => handleChange(event, 2)}\n\t\t\t\t/>\n\t\t\t</FormControl>\n\n\t\t\t<FormControl variant=\"outlined\" size=\"small\" className={classes.bboxFormControl}>\n\t\t\t\t<InputLabel htmlFor=\"bboxInputN\" className={classes.bboxInputLabel}>North</InputLabel>\n\t\t\t\t<OutlinedInput\n\t\t\t\t\tvalue={bbox[3]}\n\t\t\t\t\tid=\"bboxInputN\"\n\t\t\t\t\tlabel=\"North\"\n\t\t\t\t\tonChange={(event) => handleChange(event, 3)}\n\t\t\t\t/>\n\t\t\t</FormControl>\n\n\t\t\t<InfoAdornment \n\t\t\t\tcontent={infoText.bbox} \n\t\t\t\tinputAdornmentClass={classes.inputAdornmentClass} \n\t\t\t\tedge=\"start\"\n\t\t\t/>\n\t\t</>\n\t\t);\n\t}\n\nexport default BboxSelect;\n","import React, { useState, useContext, useEffect } from 'react';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InfoAdornment from './InfoAdornment';\nimport { infoText } from '../utilities/constants';\nimport InputParamsContext from './InputParamsContext';\n\nconst useStyles = makeStyles((theme) => ({\n\tlocInputLabel: {\n\t\tcolor: \"rgba(0,0,0,0.87)\",\n    },\n    locFormControl: {\n        width: \"30%\",\n        marginRight: \"0.5em\",\n    },\n    locTitle: {\n        marginBottom: \"0.75em\",\n    },\n    inputAdornmentClass: {\n        display: \"inline-flex\",\n        verticalAlign: \"text-bottom\",\n    }\n}));\n\nconst PointSelect = () => {\n    const inputContext = useContext(InputParamsContext);\n    const [loc, setLoc] = useState(['','']);\n    const classes = useStyles();\n\n    const handleChange = (event, index) => {\n        const newLoc = loc;\n        let newValue = event.target.value;\n        if (index === 0 && newValue > 0) {\n            newValue = newValue * -1.0\n        }\n        newLoc[index] = newValue;\n\t\tsetLoc(newLoc);\n\t\tinputContext.updateInputParams({areaDef: {loc:newLoc}});\t\n    };\n    \n    useEffect(() => {\n        inputContext.updateInputParams({areaDef: {loc:['','']}});\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <>\n            <FormControl size=\"small\" className={classes.locTitle}>\n                <FormLabel>Specify point in decimal degrees:</FormLabel>\n            </FormControl>\n            <br />\n\n            <FormControl variant=\"outlined\" size=\"small\" className={classes.locFormControl}>\n                <InputLabel htmlFor=\"locInputW\" className={classes.locInputLabel}>Longitude</InputLabel>\n                <OutlinedInput\n                    value={loc[0]}\n                    id=\"ptlon\"\n                    label=\"Longitude\"\n                    onChange={(event) => handleChange(event, 0)}\n                />\n             </FormControl>\n\n            <FormControl variant=\"outlined\" size=\"small\" className={classes.locFormControl}>\n                <InputLabel htmlFor=\"locInputS\" className={classes.locInputLabel}>Latitude</InputLabel>\n                <OutlinedInput\n                    value={loc[1]}\n                    id=\"ptlat\"\n                    label=\"Latitude\"\n                    onChange={(event) => handleChange(event, 1)}\n                />\n            </FormControl>\n\n             <InfoAdornment \n                content={infoText.loc} \n                inputAdornmentClass={classes.inputAdornmentClass} \n                edge=\"start\"\n            />\n        </>\n        );\n    }\n\nexport default PointSelect;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\n\nconst AlertDialog = (props) => {\n\tconst { alertStatus, handleAlertClose, alertText } = props;\n \n\treturn (\n\t\t<div>\n\t\t\t<Dialog\n\t\t\t\topen={alertStatus}\n\t\t\t\tonClose={handleAlertClose}\n\t\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\t\taria-describedby=\"alert-update-element\"\n\t\t\t>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText id=\"alert-update-element\">\n\t\t\t\t\t\t{alertText}\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleAlertClose} autoFocus>\n\t\t\t\t\t\tAcknowledged\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n\nexport default AlertDialog;","import React, { useState, useContext } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RegionSelect from './RegionSelect';\nimport StateSelect from './StateSelect';\nimport BboxSelect from './BboxSelect';\nimport PointSelect from './PointSelect';\nimport InputParamsContext from './InputParamsContext';\nimport AlertDialog from './AlertDialog';\n\nconst useStyles = makeStyles((theme) => ({\n\tareaContainer: {\n\t\tborder: \"1pt solid midnightblue\",\n\t\tpadding: \"1em 1em\",\n\t},\n\tradioButton: {\n\t\tcolor: \"midnightblue !important\",\n\t\tpaddingRight: \"3px\",\n\t},\n\tformControl: {\n\t\tmarginTop: \"0.5em\",\n\t\tmarginBottom: \"0.5em\",\n\t},\n}));\n\nconst AreaSelect = () => {\n\tconst [areaType, setAreaType] = useState(\"state\");\n\tconst [alertStatus, setAlertStatus] = useState(false);\n\tconst classes = useStyles();\n\tconst inputContext = useContext(InputParamsContext);\n\n\tconst handleTypeChange = (event) => {\n\t\tconst newAreaType = event.target.value;\n\t\t// only point can have element of \"all\"; user must change if \"all\" is selected with anything else\t\n\t\tif (newAreaType !== 'point' && inputContext.inputParams.elems[0].name === 'all') {\n\t\t\tsetAlertStatus(true);\n\t\t}\n\t\tsetAreaType(newAreaType);\t\n\t};\n\n\tconst handleAlertClose = () => {\n\t  setAlertStatus(false);\n\t};\n  \n\treturn (\n\t\t<div className={classes.areaContainer}>\n\t\t\t<Typography variant=\"body1\">\n\t\t\t\tSelect area\n\t\t\t</Typography>\n\n\t\t\t<FormControl component=\"fieldset\" className={classes.formControl}>\n\t\t\t\t<FormLabel component=\"legend\">Area type:</FormLabel>\n\t\t\t\t<RadioGroup row aria-label=\"area type\" name=\"areatype\" value={areaType} onChange={handleTypeChange}>\n\t\t\t\t\t<FormControlLabel value=\"state\" control={<Radio size=\"small\" className={classes.radioButton} />} label=\"State\" />\n\t\t\t\t\t<FormControlLabel value=\"region\" control={<Radio size=\"small\" className={classes.radioButton} />} label=\"Region\" />\n\t\t\t\t\t<FormControlLabel value=\"bbox\" control={<Radio size=\"small\" className={classes.radioButton} />} label=\"Box\" />\n\t\t\t\t\t<FormControlLabel value=\"point\" control={<Radio size=\"small\" className={classes.radioButton} />} label=\"Point\" />\n\t\t\t\t</RadioGroup>\n\t\t\t</FormControl>\n\n\t\t\t{areaType === 'state' &&\n\t\t\t\t<StateSelect />\n\t\t\t}\n\t\t\t{areaType === 'region' &&\n\t\t\t\t<RegionSelect />\n\t\t\t}\n\t\t\t{areaType === 'bbox' &&\n\t\t\t\t<BboxSelect />\n\t\t\t}\n\t\t\t{areaType === 'point' &&\n\t\t\t\t<PointSelect />\n\t\t\t}\n\t\t\t{alertStatus &&\n\t\t\t\t<AlertDialog \n\t\t\t\t\talertStatus={alertStatus}\n\t\t\t\t\thandleAlertClose={handleAlertClose}\n\t\t\t\t\talertText=\"Element selection must be updated.\"\n\t\t\t\t/>\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nexport default AreaSelect;","import React, { useState, useEffect, useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport InfoAdornment from './InfoAdornment';\nimport InputParamsContext from './InputParamsContext';\nimport { infoText } from '../utilities/constants';\n\nconst useStyles = makeStyles((theme) => ({\n    levelsContainer: {\n        marginTop: \"0.75em\",\n    },\n\tlevelFormControl: {\n\t\twidth: \"100%\",\n\t},\n\tlevelInputLabel: {\n\t\tcolor: \"rgba(0,0,0,0.87)\",\n\t},\n}));\n\nconst LevelsSelect = () => {\n\tconst [ levels, setLevels ] = useState(\"\");\n\tconst classes = useStyles();\n\tconst inputContext = useContext(InputParamsContext);\n\t\n\tconst handleLevelChange = (event) => {\n\t\tconst newlevels = event.target.value.replace(\" \",\"\");;\n\t\tsetLevels(newlevels);\n\t\tinputContext.updateInputParams({image: {...inputContext.inputParams.image, levels: newlevels}});\n\t};\n\n\tuseEffect(() => {\n\t\tif (inputContext.levels.server) {\n\t\t\tconst newlevels = inputContext.levels.server.join(\",\");\n\t\t\tsetLevels(newlevels);\t\n\t\t}\n\t}, [inputContext.levels.server]);\n\n\treturn ( \n        <div className={classes.levelsContainer}>\n            <FormControl variant=\"outlined\" className={classes.levelFormControl}>\n                <InputLabel htmlFor=\"levelInput\" className={classes.levelInputLabel}>Contour levels</InputLabel>\n                <OutlinedInput\n                    value={levels}\n                    id=\"levelInput\"\n                    label=\"Contour levels\"\n                    margin=\"dense\"\n                    inputProps={{ spellCheck: false }}\n                    onChange={handleLevelChange}\n                    endAdornment={<InfoAdornment content={infoText.levels} />}\n                />\n                <FormHelperText>Comma-separated contour level list; lowest to highest</FormHelperText>\n            </FormControl>\n\t\t</div>\n\t);\n}\n\nexport default LevelsSelect;","import React, { useState, useEffect, useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Typography from '@material-ui/core/Typography';\nimport InputParamsContext from './InputParamsContext';\nimport { infoText } from '../utilities/constants';\n\nconst useStyles = makeStyles((theme) => ({\n\tcolorsContainer: {\n\t\tmarginTop: \"0.75em\",\n\t\tborder: \"1pt solid lightgray\",\n\t\tpadding: 0,\n\t},\n\tlistContainer: {\n\t\tpadding:0,\n\t},\n\tcolorFormControl: {\n\t\twidth: \"100%\",\n\t},\n\tcolorInputLabel: {\n\t\tcolor: \"rgba(0,0,0,0.87)\",\n\t},\n\tcolorbarContainer: {\n\t\tmargin:\"0 1em 0.5em 1em\",\n\t\twidth:\"unset\",\n\t},\n\terrormsg: {\n\t\tcolor: \"red\",\n\t\tmarginTop: \"6px\",\n\t\tfontSize: \"90%\",\n\t},\n}));\n\nconst ColorsSelect = () => {\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [ colorCount, setColorCount ] = useState(0);\n\tconst [ cmp, setCmp ] = useState('Blues');\n\tconst [ colorError, setColorError ] = useState(false);\n\tconst classes = useStyles();\n\tconst inputContext = useContext(InputParamsContext);\n\n\tconst colormaps = require('../utilities/colorbrewer.json');\n\tconst colormap_keys = Object.keys(colormaps);\n\n\tconst handleClickListItem = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\n\tconst handleMenuItemClick = (val) => {\n\t\tsetAnchorEl(null);\n\t\tsetCmp(val);\n\t\t//const levelcnt = (inputContext.inputParams.image.levels && inputContext.inputParams.image.levels.length >= 0) ? inputContext.inputParams.image.levels.split(\",\").length : inputContext.levels.server.length;\n\t\t//setColorCount(levelcnt+1);\n\t\tif (colormaps[val].hasOwnProperty(colorCount)) {\n\t\t\tconst newColors = colormaps[val][colorCount];\n\t\t\tif (inputContext.levels.client.length === 0) {\n\t\t\t\tinputContext.updateInputParams({image: {...inputContext.inputParams.image, cmap: newColors, levels: inputContext.levels.server.join(\",\")}});\n\t\t\t} else {\n\t\t\t\tinputContext.updateInputParams({image: {...inputContext.inputParams.image, cmap: newColors}});\n\t\t\t}\n\t\t\tsetColorError(false);\n\t\t} else {\n\t\t\tinputContext.updateInputParams({image: {...inputContext.inputParams.image, cmap: []}});\n\t\t\tsetColorError(true);\n\t\t}\n\t};\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tuseEffect(() => {\n\t\tif (inputContext.colors.server) {\n\t\t\tsetColorCount(inputContext.colors.server.length);\n\t\t\tsetColorError(false);\n\t\t}\n\t}, [inputContext.colors.server]);\n\n\tuseEffect(() => {\n\t\tif (typeof inputContext.inputParams.image.levels === 'string' && inputContext.inputParams.image.levels.length >= 0) {\n\t\t\tconst levelLength = inputContext.inputParams.image.levels.split(\",\").length;\n\t\t\tsetColorCount(levelLength + 1);\n\t\t\tif (colormaps[cmp].hasOwnProperty(levelLength + 1)) {\n\t\t\t\tconst newColors = colormaps[cmp][levelLength + 1];\n\t\t\t\tinputContext.updateInputParams({image: {...inputContext.inputParams.image, cmap: newColors}});\n\t\t\t\tsetColorError(false);\n\t\t\t} else {\n\t\t\t\tinputContext.updateInputParams({image: {...inputContext.inputParams.image, cmap: []}});\n\t\t\t\tsetCmp('Blues');\n\t\t\t\tsetColorError(levelLength === 1 ? false : true);\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [inputContext.inputParams.image.levels]);\n\n\treturn ( \n\t\t<div className={classes.colorsContainer}>\n\t\t\t{(inputContext.levels.client.length > 0 || inputContext.levels.server.length > 0) &&\n\t\t\t\t<>\n\t\t\t\t\t<List className={classes.listContainer} aria-label=\"color selection\">\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\taria-controls=\"color-map-menu\"\n\t\t\t\t\t\t\taria-label=\"selected-color\"\n\t\t\t\t\t\t\tonClick={handleClickListItem}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary=\"Click to change color map\" secondary={\"Currently selected: \"+cmp} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</List>\n\n\t\t\t\t\t<Menu\n\t\t\t\t\t\tid=\"color-map-menu\"\n\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\tkeepMounted\n\t\t\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\t\t\tonClose={handleClose} \n\t\t\t\t\t>\n\t\t\t\t\t\t{colormap_keys.map((val, index) => (\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tkey={val}\n\t\t\t\t\t\t\t\tselected={val === cmp}\n\t\t\t\t\t\t\t\tonClick={(event) => handleMenuItemClick(val)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<TableContainer>\n\t\t\t\t\t\t\t\t\t<Table padding=\"none\" aria-label=\"color table\">\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t{colormaps[val].hasOwnProperty(colorCount) &&\n\t\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{colormaps[val][colorCount].map((cs, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell key={i} style={{width:\"1em\", backgroundColor:\"\" + cs + \"\"}}>&nbsp;</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell style={{paddingLeft:\"1em\"}}>{val}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\t\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Menu>\n\n\t\t\t\t\t{cmp && !colorError && colormaps[cmp].hasOwnProperty(colorCount) &&\n\t\t\t\t\t\t<TableContainer className={classes.colorbarContainer}>\n\t\t\t\t\t\t\t<Table size=\"small\" padding=\"none\" aria-label=\"color table\">\n\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t{colormaps[cmp][colorCount].map((cs, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell key={i} style={{width:\"1em\", backgroundColor:\"\" + cs + \"\"}}>&nbsp;</TableCell>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</TableRow>\t\n\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t}\n\t\t\t\t</>\n\t\t\t}\n\n\t\t\t{colorError &&\n\t\t\t\t<Typography variant=\"body1\" className={classes.errormsg} gutterBottom>\n\t\t\t\t\t{infoText.colors}\n\t\t\t\t</Typography>\n\t\t\t}\n\n\t\t</div>\n\t);\n}\n\nexport default ColorsSelect;","import React, { useState, useEffect, useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputParamsContext from './InputParamsContext';\nimport LevelsSelect from './LevelsSelect';\nimport ColorsSelect from './ColorsSelect';\n\nconst useStyles = makeStyles((theme) => ({\n\timageOptionsContainer: {\n\t\tborderLeft: \"1pt solid midnightblue\",\n\t\tborderRight: \"1pt solid midnightblue\",\n\t\tborderBottom: \"1pt solid midnightblue\",\n\t\tpadding: 0,\n\t},\n\taccordionDetailsContainer: {\n\t\tpaddingTop: 0,\n\t},\n\taccordianSummaryRoot: {\n\t\tminHeight: \"1em\",\n\t\tmarginTop: \"1em\",\n\t\tmarginBottom: \"1em\",\n\t\t'&$expanded': {\n\t\t\tminHeight: \"1em\",\n\t\t\tmarginBottom: \"0.5em\",\n\t\t},\n\t},\n\taccordianSummaryContent: {\n\t\tmargin: 0,\n\t\tpadding:  0,\n\t\t'&$expanded': {\n\t\t\tmargin: 0,\n\t\t},\n\t},\n\texpanded: {},\n\texpandIcon: {\n\t\tpaddingTop: 0,\n\t\tpaddingBottom: 0,\n\t},\n\tvertCheckbox: {\n\t\tcolor: \"midnightblue !important\",\n\t\tpadding: \"3px\",\n\t\tfontSize: \"90%\",\n\t},\n}));\n\nconst ImageSelect = () => {\n\tconst [ stateOutlines, setStateOutlines ] = useState(true);\n\tconst [ countyOutlines, setCountyOutlines ] = useState(true);\n\tconst classes = useStyles();\n\tconst inputContext = useContext(InputParamsContext);\n\n\tconst handleCheckboxChange = (event) => {\n\t\tif (event.target.name === 'stateOutlines') {\n\t\t\tsetStateOutlines(event.target.checked);\n\t\t} else if (event.target.name === 'countyOutlines') {\n\t\t\tsetCountyOutlines(event.target.checked);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tconst newOverlays = [\n\t\t\tstateOutlines ? \"state:1:black\" : \"state:0:black\",\n\t\t\tcountyOutlines ? \"county:0.5:grey\" : \"county:0:grey\"\n\t\t];\n\t\tinputContext.updateInputParams({image: {...inputContext.inputParams.image, overlays: newOverlays}});\t\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [stateOutlines, countyOutlines]);\n\n\treturn ( \n\t\t<div className={classes.imageOptionsContainer}>\n\t\t\t<Accordion>\n\t\t\t\t<AccordionSummary\n\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\taria-controls=\"image-options-content\"\n\t\t\t\t\tid=\"image-options-header\"\n\t\t\t\t\tclasses={{root: classes.accordianSummaryRoot, content: classes.accordianSummaryContent, expanded: classes.expanded, expandIcon: classes.expandIcon}}\n\t\t\t\t>\n\t\t\t\t\t<Typography variant=\"body1\">Image Settings</Typography>\n\t\t\t\t</AccordionSummary>\n\t\t\t\t<AccordionDetails\n\t\t\t\t\tclassName={classes.accordionDetailsContainer}\n\t\t\t\t>\n\t\t\t\t\t<FormControl component=\"fieldset\" style={{width:\"100%\"}}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox size=\"small\" checked={stateOutlines} className={classes.vertCheckbox} onChange={handleCheckboxChange} name=\"stateOutlines\" />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel=\"Show state outlines\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox size=\"small\" checked={countyOutlines} className={classes.vertCheckbox} onChange={handleCheckboxChange} name=\"countyOutlines\" />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel=\"Show county outlines\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\n\t\t\t\t\t<LevelsSelect />\n\t\t\t\t\t<ColorsSelect />\n\t\t\t\t\t</FormControl>\n\t\t\t\t</AccordionDetails>\n\t\t\t</Accordion>\n\t\t</div>\n\t);\n}\n\nexport default ImageSelect;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Button from '@material-ui/core/Button';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ElementSelect from './ElementSelect';\nimport DateSelect from './DateSelect';\nimport AreaSelect from './AreaSelect';\nimport ImageSelect from './ImageSelect';\nimport { drawerWidth } from '../utilities/constants';\n\nconst useStyles = makeStyles((theme) => ({\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t},\n\tdrawerHeader: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tpadding: theme.spacing(0, 1),\n\t\t// necessary for content to be below app bar\n\t\t...theme.mixins.toolbar,\n\t\tjustifyContent: 'flex-end',\n\t},\n\tmenuButton: {\n\t\t\"&:focus\": {\n\t\t\tcolor: \"#3f51b5\",\n\t\t\tbackgroundColor: \"lightblue\",\n\t\t},\n\t\t\"&:hover\": {\n\t\t\tcolor: \"#3f51b5\",\n\t\t\tbackgroundColor: \"lightblue\",\n\t\t},\n\t},\n\tsubmitButton: {\n\t\tbackgroundColor: \"midnightblue\",\n\t\tcolor: \"white\",\n\t\t\"&:focus\": {\n\t\t\tcolor: \"midnightblue\",\n\t\t\tbackgroundColor: \"lightblue\",\n\t\t},\n\t\t\"&:hover\": {\n\t\t\tcolor: \"midnightblue\",\n\t\t\tbackgroundColor: \"lightblue\",\n\t\t},\n\t\tmarginBottom: \"1em\",\n\t},\n}));\n\nconst OptionsSelection = (props) => {\n\tconst {open, handleDrawerClose, handleViewMapClick} = props;\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<>\n\t\t\t<Drawer\n\t\t\t\tclassName={classes.drawer}\n\t\t\t\tvariant=\"persistent\"\n\t\t\t\tanchor=\"left\"\n\t\t\t\topen={open}\n\t\t\t\tclasses={{ paper: classes.drawerPaper }}\n\t\t\t>\n\t\t\t\t<div className={classes.drawerHeader}>\n\t\t\t\t\t<Tooltip title=\"Close options selection\">\n\t\t\t\t\t\t<IconButton className={classes.menuButton} aria-label=\"close options selection\" onClick={handleDrawerClose}>\n\t\t\t\t\t\t\t<ChevronLeftIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</div>\n\t\t\t\t<Divider />\n\n\t\t\t\t<AreaSelect />\n\t\t\t\t<ElementSelect />\n\t\t\t\t<DateSelect />\n\t\t\t\t<ImageSelect />\n\n\t\t\t\t<Tooltip title=\"submit request\">\n\t\t\t\t\t<Button variant=\"outlined\" size=\"medium\" className={classes.submitButton} onClick={handleViewMapClick}>\n\t\t\t\t\t\tSubmit request\n\t\t\t\t\t</Button>\n\t\t\t\t</Tooltip>\n\t\t\t</Drawer>\n\t\t</>\n\t)\n}\n\nexport default OptionsSelection;","import React from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n\tpreContainer: {\n\t\tdisplay:\"inline-block\", \n\t\tpadding:\"0 1em\",\n\t\tmargin: \"0 0 0.5em\",\n\t\tbackgroundColor: \"whitesmoke\",\n\t},\n\tpreStyle: {\n\t\tmarginTop: 0,\n\t\tfontSize: \"90%\",\n\t},\n}));\n\nconst DisplayRequest = (props) => {\n    const { submittedParams } = props;\n\tconst classes = useStyles();\n\tconst paramsString = JSON.stringify(submittedParams, null, 2);\n\n\treturn (\n\t\t<>\n            <Paper variant=\"outlined\" className={classes.preContainer}>\n                <Typography variant=\"subtitle1\">\n                    Request:\n                </Typography>\n                <pre className={classes.preStyle}>\n                    {paramsString}\n                </pre>\n            </Paper>\n\t\t</>\n\t);\n}\n\nexport default DisplayRequest;","import React, { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Polygon, ImageOverlay } from 'react-leaflet';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n\tnav: {\n\t\tposition: \"absolute\",\n\t\ttop: 0,\n\t\tleft: 0,\n\t\tpadding: \"3px\",\n\t},\n\tmapContainer: {\n\t\tborder: \"1pt solid midnightblue\",\n\t\theight: window.innerHeight * 0.6,\n\t},\n\trangeControl: {\n\t\tcolor: \"midnightblue\",\n\t\tpaddingLeft: \"0.5em\",\n\t},\n}));\n\nconst LeafletMap = (props) => {\n\tconst { imgsrc, dataBbox, range } = props;\n\tconst [ bbox, setBbox ] = useState();\n\tconst [ imgcoords, setImgcoords ] = useState();\n\tconst classes = useStyles();\n\n\tuseEffect(() => {\n\t\tif (dataBbox) {\n\t\t\t// setup bounding box (bounds)\n\t\t\tsetBbox([parseFloat(dataBbox[0]),parseFloat(dataBbox[1]),parseFloat(dataBbox[2]),parseFloat(dataBbox[3])]);\n\t\t\t// convert bbox to Leaflet coordinates (rectangle around image)\n\t\t\tsetImgcoords([ [dataBbox[3],dataBbox[0]], [dataBbox[3],dataBbox[2]], [dataBbox[1],dataBbox[2]], [dataBbox[1],dataBbox[0]] ]);\n\t\t}\n\t}, [dataBbox]);\n\n\n\treturn (\n\t\t<>\n\t\t\t<div className={classes.mapContainer}>\n\t\t\t\t{bbox && \n\t\t\t\t\t<MapContainer \n\t\t\t\t\t\tbounds={[[bbox[1], bbox[0]], [bbox[3], bbox[2]]]}\n\t\t\t\t\t\tzoomControl={true}\n\t\t\t\t\t\tscrollWheelZoom={true}\n\t\t\t\t\t\tattributionControl={true}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TileLayer\n\t\t\t\t\t\t\turl='https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png'\n\t\t\t\t\t\t\tattribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>'\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{imgcoords &&\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Polygon \n\t\t\t\t\t\t\t\t\tpathOptions={{color:\"lightgray\", weight:1, fill:false}}\n\t\t\t\t\t\t\t\t\tpositions={imgcoords} \n\t\t\t\t\t\t\t\t/>\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\t<div className='leaflet-bottom leaflet-left'>\n\t\t\t\t\t\t\t\t\t<span className={classes.rangeControl}>Range: {range[0].toFixed(2)} to {range[1].toFixed(2)}</span>\n    \t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t{imgcoords && imgsrc &&\n\t\t\t\t\t\t\t<ImageOverlay\n\t\t\t\t\t\t\t\turl={imgsrc}\n\t\t\t\t\t\t\t\tbounds={imgcoords}\n\t\t\t\t\t\t\t\topacity={0.8}\n\t\t\t\t\t\t\t\tzIndex={10}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t</MapContainer>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default LeafletMap;\n","import React, {useContext} from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputParamsContext from './InputParamsContext';\nimport { elementNames, months } from '../utilities/constants';\n\nconst useStyles = makeStyles((theme) => ({\n\ttitleContainer: {\n\t\tmargin: \"0\",\n\t},\n}));\n\nconst MapTitle = (props) => {\n\tconst { submittedParams } = props;\n\tconst inputContext = useContext(InputParamsContext);\n\tconst classes = useStyles();\n\tconst selectedElem = submittedParams.elems[0].elem.name;\n\tconst selectedDuration = submittedParams.elems[0].duration;\n\tconst selectedInterval = submittedParams.elems[0].interval.length === 3 ? 'Daily' : 'Monthly';\n\tconst selectedName = elementNames()[selectedElem];\n\tconst [,smn] = inputContext.inputParams.sdate.split(\"-\");\n\tconst [,emn] = inputContext.inputParams.edate.split(\"-\");\n\tconst selectedStart = months[parseInt(smn)-1];\n\tconst selectedDate = selectedDuration === 1 ? (\"Month of \"+months[parseInt(emn)-1]) : (months[parseInt(emn)-1]);\n\tlet same = true;\n\n\tif (submittedParams.bbox) {\n\t\tsame = submittedParams.bbox.every((val, i) => val === inputContext.inputParams.areaDef.bbox[i]);\n\t} else if (submittedParams.loc) {\n\t\tsame = submittedParams.loc.every((val, i) => val === inputContext.inputParams.areaDef.loc[i]);\n\t}\n\n\treturn (\n\t\t<div className={classes.titleContainer}>\n\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t{selectedDuration === 1 && selectedInterval+\" \"}\n\t\t\t\t{selectedName} \n\t\t\t</Typography>\n\t\t\t{selectedDuration > 1 &&\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t   {selectedStart} through {selectedDate} ({selectedDuration} months)\n\t\t\t\t</Typography>\n\t\t\t}\n\t\t\t{selectedDuration === 1 &&\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t{selectedDate}\n\t\t\t\t</Typography>\n\t\t\t}\n\t\t\t{submittedParams.bbox && !same &&\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\tBounding box: [{submittedParams.bbox.join(\", \")}] (modified to fit dataset constraints)\n\t\t\t\t</Typography>\n\t\t\t}\n\t\t\t{submittedParams.loc &&\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\tLocation (degrees): [{submittedParams.loc.join(\", \")}] {same ? \"\" : \"(modified to fit dataset constraints)\"}\n\t\t\t\t</Typography>\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nexport default MapTitle;","import React, { useEffect, useRef, useState, useContext } from \"react\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport InputParamsContext from './InputParamsContext';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n\tkeyContainer: {\n\t\tmarginTop: \"1em\",\n\t},\n}));\n\nconst MapLegend = (props) => {\n\tconst { imgInfo } = props;\n\tconst { levels, cmap, range } = imgInfo;\n\tconst [ width, setWidth ] = useState();\n\tconst [ eachWidth, setEachWidth ] = useState();\n\tconst ref = useRef(null);\n\tconst classes = useStyles();\n\tconst color_styles = cmap.map((color) => { return {height: \"28px\", backgroundColor: color, opacity: \"0.8\"} });\n\tconst inputContext = useContext(InputParamsContext);\n\n\tuseEffect(() => {\n\t\t// trim off insignificant digits e.g. 1.10000000001 => 1.1\n\t\tconst levelLabels = levels.map((lev) => {\n\t\t\treturn (Math.abs(Math.round(lev*100)/100 - lev) > 0) ? parseFloat(lev.toFixed(2)) : lev;\n\t\t})\n\t\t// remove levels above or below range of values (i.e. unused colors), unless explicitly requested by client\n\t\tif (inputContext.levels.client.length === 0) {\n\t\t\tif (levelLabels[levelLabels.length-1] >= range[1]) {\n\t\t\t\tlevelLabels.pop();\n\t\t\t\tcmap.pop();\n\t\t\t}\n\t\t\tif (levelLabels[0] < range[0]) {\n\t\t\t\tlevelLabels.shift()\n\t\t\t\tcmap.shift()\n\t\t\t}\n\t\t}\n\t\tinputContext.updateLevels({server: levelLabels});\n\t\tinputContext.updateColors({server: cmap});\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [levels])\n\n\tuseEffect(() => {\n\t\tif (ref) {\n\t\t\tconst elemWidth = ref.current.offsetWidth;\n\t\t\tconst defaultWidth = cmap.length * 56;\n\t\t\tsetWidth(Math.min(defaultWidth, elemWidth));\n\t\t\tsetEachWidth(Math.min(defaultWidth, elemWidth)/cmap.length);\n\t\t}\n\t},[cmap.length]);\n\n\treturn (\n\t\t<>\n\t\t\t<TableContainer className={classes.keyContainer} ref={ref}>\n\t\t\t\t{width &&\n\t\t\t\t\t<Table size=\"small\" padding=\"none\" style={{width:width}} aria-label=\"color table\">\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t{color_styles.map((cs, i) => (\n\t\t\t\t\t\t\t\t\t<TableCell key={i} style={cs}></TableCell>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</TableRow>\t\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t}\n\t\t\t</TableContainer>\n\n\t\t\t<TableContainer>\n\t\t\t\t{width &&\n\t\t\t\t\t<Table size=\"small\" padding=\"none\" style={{width:width}} aria-label=\"color table\">\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell style={{width:eachWidth/2}}></TableCell>\n\t\t\t\t\t\t\t\t{inputContext.levels.server.map((lv, i) => (\n\t\t\t\t\t\t\t\t\t<TableCell key={i}align=\"center\" style={{width:eachWidth}}>{lv}</TableCell>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<TableCell style={{width:eachWidth/2}}></TableCell>\n\t\t\t\t\t\t\t</TableRow>\t\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t}\n\t\t\t</TableContainer>\n\t\t</>\n\t);\n}\n\nexport default MapLegend;\n","import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DisplayRequest from './DisplayRequest';\nimport { downloadFile, downloadFetch } from '../utilities/utils';\nimport LeafletMap from './LeafletMap';\nimport MapTitle from './MapTitle';\nimport MapLegend from './MapLegend';\n\nconst useStyles = makeStyles((theme) => ({\n\tdownloadButton: {\n\t\tmargin: \"0 0.4em\",\n\t},\n\tmapImage: {\n\t\twidth: \"100%\",\n\t},\n\tmapTitleContainer: {\n\t\tborderLeft: \"1pt solid midnightblue\",\n\t\tborderRight: \"1pt solid midnightblue\",\n\t\tborderBottom: \"1pt solid midnightblue\",\n\t\tpadding: \"0.5em\",\n\t\tmarginBottom: \"1em\",\n\t},\n}));\n\nconst DisplayMap = (props) => {\n\tconst { imgsrc, submittedParams, imgInfo } = props;\n\tconst [showParams, setShowParams] = useState(false);\n\tconst classes = useStyles();\n\n\tconst handleDownPngClick = () => {\n\t\tdownloadFile(imgsrc, 'normalsImage.png');\n\t};\n\n\tconst handleDownTifClick = () => {\n\t\tdownloadFetch(submittedParams, 'normalsGeo.tif', 'geotiff');\n\t}\n\n\tconst handleDownJsonClick = () => {\n\t\tdownloadFetch(submittedParams, 'normalsData.json', 'json');\n\t}\n\n\tconst handleShowParamsClick = () => {\n\t\tsetShowParams(prev => !prev);\n\t};\n\n\treturn (\n\t\t<div id=\"mapContainer\">\n\t\t\t<LeafletMap \n\t\t\t\timgsrc={imgsrc}\n\t\t\t\tdataBbox={imgInfo ? imgInfo.data_bbox : null}\n\t\t\t\trange={imgInfo ? imgInfo.range : null}\n\t\t\t/>\n\t\t\t<div className={classes.mapTitleContainer}>\n\t\t\t\t<MapTitle \n\t\t\t\t\tsubmittedParams={submittedParams}\n\t\t\t\t/>\n\t\t\t\t{imgInfo &&\n\t\t\t\t\t<MapLegend \n\t\t\t\t\t\timgInfo={imgInfo}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleDownPngClick}>Download image (png)</Button>\n\t\t\t<Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleDownTifClick}>Download image (geotiff)</Button>\n\t\t\t<Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleDownJsonClick}>Download data (json)</Button>\n\t\t\t<Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleShowParamsClick}>Display request (json)</Button>\n\t\t\t<br />\n\t\t\t{showParams &&\n\t\t\t\t<DisplayRequest \n\t\t\t\t\tsubmittedParams={submittedParams}\n\t\t\t\t/>\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nexport default DisplayMap;\n","import React, { useState } from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { elementNames } from '../utilities/constants';\nimport { downloadFetch } from '../utilities/utils';\nimport DisplayRequest from './DisplayRequest';\nimport MapTitle from './MapTitle';\n\nconst useStyles = makeStyles((theme) => ({\n\tresContainer: {\n\t\tdisplay:\"inline-block\", \n\t\tpadding:\"0 1em\",\n\t\tmargin: \"0.5em 0 0.5em\",\n\t},\n    downloadButton: {\n\t\tmargin: \"1em 0.5em\",\n\t},\n}));\n\nconst DisplayJson = (props) => {\n\tconst { jsonresp, submittedParams } = props;\n    const [showParams, setShowParams] = useState(false);\n    const classes = useStyles();\n    const eNames = elementNames();\n    const sElems = [{name:'date'}, ...submittedParams.elems];\n\n\tconst handleShowParamsClick = () => {\n\t\tsetShowParams(prev => !prev);\n\t}\n \n    const handleDownJsonClick = () => {\n\t\tdownloadFetch(submittedParams, 'normalsData.json', 'json');\n\t}\n\n    return (\n        <div>\n            <MapTitle \n                submittedParams={submittedParams}\n            />\n            <Paper variant=\"outlined\" className={classes.resContainer}>\n                {jsonresp[0].map((col,i) => (\n                    <Typography variant=\"body1\" key={i}>\n                        {sElems[i].name !== 'date' &&\n                            eNames[sElems[i].elem.name] + \": \" + parseFloat(col).toFixed(sElems[i].elem.name === 'pcpn' ? 2 : 1)\n                        }\n                    </Typography>\n                ))}\n            </Paper>\n            <br />\n            <Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleDownJsonClick}>Download data (json)</Button>\n            <Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleShowParamsClick}>Display request (json)</Button>\n            <br />\n\t\t\t{showParams &&\n\t\t\t\t<DisplayRequest \n\t\t\t\t\tsubmittedParams={submittedParams}\n\t\t\t\t/>\n\t\t\t}\n        </div>\n    );\n}\n\nexport default DisplayJson;","import React, { useEffect, useState, useContext} from \"react\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport InputParamsContext from './InputParamsContext';\nimport { buildParams } from '../utilities/utils';\nimport DisplayMap from \"./DisplayMap\";\nimport DisplayJson from \"./DisplayJson\";\n\nconst GetResults = () => {\n\tconst [mapBlob, setMapBlob] = useState();\n\tconst [jsonresp, setJsonresp] = useState();\n\tconst [imgInfo, setImgInfo] = useState();\n\tconst [resultsError, setResultsError] = useState();\n\tconst [loading, setLoading] = useState(false);\n\tconst [submittedParams, setSubmittedParams] = useState();\n\tconst inputContext = useContext(InputParamsContext);\n\n\tconst fetchResponse = (params, output) => {\n\t\tconst infoInput = JSON.stringify({...params, output: \"json\"});\n\t\tfetch(\"https://grid2.rcc-acis.org/GridData\", {body: infoInput, method: \"POST\", headers: {'Content-Type': 'application/json'},})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tconst message = \"Error on request\" + (response.statusText ? (\": \" + response.statusText) : \"\");\n\t\t\t\t\tsetResultsError(message);\n\t\t\t\t\treturn response.json();\t// return to possibly get better message from json\n\t\t\t\t}\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (response.error) {\n\t\t\t\t\tsetResultsError(response.status + \" \" + response.error)\n\t\t\t\t} else if (output === 'png') {\n\t\t\t\t\tsetMapBlob(response.data);\n\t\t\t\t\tsetImgInfo(response);\n\t\t\t\t} else {\n\t\t\t\t\tsetJsonresp(response.data);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tif (err.message.includes(\"Failed to execute 'createObjectURL' on 'URL'\")) {\n\t\t\t\t\tsetResultsError(\"Invalid grid request - \"+infoInput);\n\t\t\t\t} else {\n\t\t\t\t\tsetResultsError(\"Error: \" + err.message);\n\t\t\t\t};\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tsetLoading(false);\n\t\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tsetResultsError(null);\n\t\tsetLoading(true);\n\t\t// Build parameters\n\t\tconst input = buildParams(inputContext.inputParams);\n\t\t// Save parameters \n\t\tsetSubmittedParams(input);\n\t\tif (input.output === 'png' && input.image.levels) {\n\t\t\tinputContext.updateLevels({client: input.image.levels});\n\t\t} else {\n\t\t\tinputContext.updateLevels({client: []});\n\t\t}\n\t\t// Get results\n\t\tfetchResponse(input, input.output);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t{loading &&\n\t\t\t\t<CircularProgress />\n\t\t\t}\n\t\t\t{submittedParams && (jsonresp || mapBlob) &&\n\t\t\t\t<>\n\t\t\t\t\t{mapBlob &&\n\t\t\t\t\t\t<DisplayMap \n\t\t\t\t\t\t\timgsrc={mapBlob}\n\t\t\t\t\t\t\timgInfo={imgInfo}\n\t\t\t\t\t\t\tsubmittedParams={submittedParams}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\t{jsonresp &&\n\t\t\t\t\t\t<DisplayJson\n\t\t\t\t\t\t\tjsonresp={jsonresp}\n\t\t\t\t\t\t\tsubmittedParams={submittedParams}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t</>\n\t\t\t}\n\t\t\t{resultsError &&\n\t\t\t\t<p>{resultsError}</p>\n\t\t\t}\n\t\t</>\n\t);\n}\n\nexport default GetResults;","import React, {useEffect, useState} from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Banner from './Banner';\nimport OptionsSelection from './OptionsSelection';\nimport GetResults from './GetResults';\nimport InputParamsContext from './InputParamsContext';\nimport { default_params, default_levels, default_colors, drawerWidth } from '../utilities/constants';\nimport poweredByAcis from '../images/PoweredbyACIS.gif';\n\nconst useStyles = makeStyles((theme) => ({\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(2),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: 0,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: drawerWidth,\n  },\n  footerContainer: {\n    position: \"fixed\", \n    width: \"calc(100% - \" + drawerWidth + \"px - 2em)\", \n    bottom: 0, \n    marginTop: \"1em\", \n    borderTop: \"1pt solid midnightblue\",\n    textAlign: \"right\",\n    padding: \"0.5em 0\",\n  },\n}));\n\nconst Main = () => {\n  const classes = useStyles();\n  const [viewMap, setViewMap] = useState(false);\n  const [inputParams, setInputParams] = useState(default_params);\n  const [levels, setLevels] = useState(default_levels);\n  const [colors, setColors] = useState(default_colors);\n  const theme = useTheme();\n\tconst smallScreen = useMediaQuery(theme.breakpoints.down('sm'))\n  const [open, setOpen] = useState(!smallScreen);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const handleViewMapClick = () => {\n    setViewMap(true);\n    if (smallScreen) {\n      setOpen(false);\n    }\n  };\n\n  const updateInputParams = (updateParams) => {\n    setViewMap(false);\n    const newParams = {...inputParams, ...updateParams}\n    setInputParams(newParams);\n  }\n\n  const updateLevels = (updateParams) => {\n    setLevels({...levels, ...updateParams});\n  };\n\n  const updateColors = (updateParams) => {\n    setColors({...colors, ...updateParams});\n  };\n\n  useEffect(() => {\n    // initial useState does not recognize small screen yet; so need to set drawer status here\n    setOpen(!smallScreen);\n  },[smallScreen]);\n\n  return (\n    <InputParamsContext.Provider value={{ inputParams, updateInputParams, levels, updateLevels, colors, updateColors }}>\n      <>\n        <a href=\"#maincontent\" className=\"skip\">Skip to main content</a>\n\n        <Banner\n          open={open}\n          handleDrawerOpen={handleDrawerOpen}\n        />\n  \n        <nav>\n          <OptionsSelection\n            open={open}\n            handleDrawerClose={handleDrawerClose}\n            handleViewMapClick={handleViewMapClick}\n          />\n        </nav>\n\n        <main id=\"maincontent\">\n          <div className={classes.drawerHeader}  />\n          <div className={clsx(classes.content, { [classes.contentShift]: open, })}>\n            {viewMap &&\n              <GetResults />\n            }\n            {!viewMap &&\n              <>\n                <Typography paragraph>\n                  Climate Normals are three-decade averages of climatological variables including temperature and precipitation. \n                  These normals are updated once every 10 years. This initial release of \n                  the 1991-2020 gridded \n                  <a href=\"https://www.ncei.noaa.gov/products/us-climate-normals\" target=\"_blank\" rel=\"noreferrer\"> U.S. climate normals</a> dataset \n                  from the <a href=\"https://www.ncei.noaa.gov/\" target=\"_blank\" rel=\"noreferrer\">National Centers for Environmental Information</a> contains monthly normals of temperature (maximum, miminum, average) and precipitation for the conterminous \n                  United States.\n                </Typography>\n                               \n                <Typography paragraph>\n                  To view the data contained in the gridded climate normals dataset, set your desired options in the\n                  navigation pane and click the \"Submit Request\" button to view the results. Buttons will be provided below each\n                  resulting product to allow you to download the data in a variety of formats.\n                </Typography>\n\n                <Typography>\n                  Additional map customization will be added in the next version of this application.\n                </Typography>\n               \n                <footer className={classes.footerContainer}>\n                    <img src={poweredByAcis} alt={'Powered by ACIS'} />\n                </footer>\n              </>\n            }\n          </div>\n        </main>\n      </>\n    </InputParamsContext.Provider>\n  )\n}\n\nexport default Main;","export default \"data:image/gif;base64,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\"","import React from \"react\";\nimport Main from './Main';\n\nconst App = () => {\n\treturn (\n\t\t<Main />\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styling/index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}