{"ast":null,"code":"import _slicedToArray from\"/Users/kle1/progs/React/ncei-normals-mapper/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from'react';import Button from'@material-ui/core/Button';import{makeStyles}from'@material-ui/core/styles';import DisplayRequest from'./DisplayRequest';import{downloadFile,downloadFetch}from'../utilities/utils';import LeafletMap from'./LeafletMap';import MapTitle from'./MapTitle';import MapLegend from'./MapLegend';var useStyles=makeStyles(function(theme){return{downloadButton:{margin:\"0 0.4em\"},mapImage:{width:\"100%\"},mapTitleContainer:{borderLeft:\"1pt solid midnightblue\",borderRight:\"1pt solid midnightblue\",borderBottom:\"1pt solid midnightblue\",padding:\"0.5em\",marginBottom:\"1em\"}};});var DisplayMap=function DisplayMap(props){var imgsrc=props.imgsrc,submittedParams=props.submittedParams,imgInfo=props.imgInfo;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showParams=_useState2[0],setShowParams=_useState2[1];var classes=useStyles();var handleDownPngClick=function handleDownPngClick(){downloadFile(imgsrc,'normalsImage.png');};var handleDownTifClick=function handleDownTifClick(){downloadFetch(submittedParams,'normalsGeo.tif','geotiff');};var handleDownJsonClick=function handleDownJsonClick(){downloadFetch(submittedParams,'normalsData.json','json');};var handleShowParamsClick=function handleShowParamsClick(){setShowParams(function(prev){return!prev;});};return/*#__PURE__*/_jsxs(\"div\",{id:\"mapContainer\",children:[/*#__PURE__*/_jsx(LeafletMap,{imgsrc:imgsrc,dataBbox:imgInfo?imgInfo.data_bbox:null}),/*#__PURE__*/_jsxs(\"div\",{className:classes.mapTitleContainer,children:[/*#__PURE__*/_jsx(MapTitle,{submittedParams:submittedParams}),imgInfo&&/*#__PURE__*/_jsx(MapLegend,{imgInfo:imgInfo})]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",className:classes.downloadButton,onClick:handleDownPngClick,children:\"Download image (png)\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",className:classes.downloadButton,onClick:handleDownTifClick,children:\"Download image (geotiff)\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",className:classes.downloadButton,onClick:handleDownJsonClick,children:\"Download data (json)\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",className:classes.downloadButton,onClick:handleShowParamsClick,children:\"Display request (json)\"}),/*#__PURE__*/_jsx(\"br\",{}),showParams&&/*#__PURE__*/_jsx(DisplayRequest,{submittedParams:submittedParams})]});};export default DisplayMap;","map":{"version":3,"sources":["/Users/kle1/progs/React/ncei-normals-mapper/src/components/DisplayMap.js"],"names":["React","useState","Button","makeStyles","DisplayRequest","downloadFile","downloadFetch","LeafletMap","MapTitle","MapLegend","useStyles","theme","downloadButton","margin","mapImage","width","mapTitleContainer","borderLeft","borderRight","borderBottom","padding","marginBottom","DisplayMap","props","imgsrc","submittedParams","imgInfo","showParams","setShowParams","classes","handleDownPngClick","handleDownTifClick","handleDownJsonClick","handleShowParamsClick","prev","data_bbox"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DisplayRequest from './DisplayRequest';\nimport { downloadFile, downloadFetch } from '../utilities/utils';\nimport LeafletMap from './LeafletMap';\nimport MapTitle from './MapTitle';\nimport MapLegend from './MapLegend';\n\nconst useStyles = makeStyles((theme) => ({\n\tdownloadButton: {\n\t\tmargin: \"0 0.4em\",\n\t},\n\tmapImage: {\n\t\twidth: \"100%\",\n\t},\n\tmapTitleContainer: {\n\t\tborderLeft: \"1pt solid midnightblue\",\n\t\tborderRight: \"1pt solid midnightblue\",\n\t\tborderBottom: \"1pt solid midnightblue\",\n\t\tpadding: \"0.5em\",\n\t\tmarginBottom: \"1em\",\n\t},\n}));\n\nconst DisplayMap = (props) => {\n\tconst { imgsrc, submittedParams, imgInfo } = props;\n\tconst [showParams, setShowParams] = useState(false);\n\tconst classes = useStyles();\n\n\tconst handleDownPngClick = () => {\n\t\tdownloadFile(imgsrc, 'normalsImage.png');\n\t};\n\n\tconst handleDownTifClick = () => {\n\t\tdownloadFetch(submittedParams, 'normalsGeo.tif', 'geotiff');\n\t}\n\n\tconst handleDownJsonClick = () => {\n\t\tdownloadFetch(submittedParams, 'normalsData.json', 'json');\n\t}\n\n\tconst handleShowParamsClick = () => {\n\t\tsetShowParams(prev => !prev);\n\t};\n\n\treturn (\n\t\t<div id=\"mapContainer\">\n\t\t\t<LeafletMap \n\t\t\t\timgsrc={imgsrc}\n\t\t\t\tdataBbox={imgInfo ? imgInfo.data_bbox : null}\n\t\t\t/>\n\t\t\t<div className={classes.mapTitleContainer}>\n\t\t\t\t<MapTitle \n\t\t\t\t\tsubmittedParams={submittedParams}\n\t\t\t\t/>\n\t\t\t\t{imgInfo &&\n\t\t\t\t\t<MapLegend \n\t\t\t\t\t\timgInfo={imgInfo}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleDownPngClick}>Download image (png)</Button>\n\t\t\t<Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleDownTifClick}>Download image (geotiff)</Button>\n\t\t\t<Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleDownJsonClick}>Download data (json)</Button>\n\t\t\t<Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleShowParamsClick}>Display request (json)</Button>\n\t\t\t<br />\n\t\t\t{showParams &&\n\t\t\t\t<DisplayRequest \n\t\t\t\t\tsubmittedParams={submittedParams}\n\t\t\t\t/>\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nexport default DisplayMap;\n"]},"metadata":{},"sourceType":"module"}