{"ast":null,"code":"import _objectSpread from\"/Users/keith/git/ncei-normals-mapper/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/keith/git/ncei-normals-mapper/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import Typography from'@mui/material/Typography';import List from'@mui/material/List';import ListItem from'@mui/material/ListItem';import ListItemText from'@mui/material/ListItemText';import Menu from'@mui/material/Menu';import MenuItem from'@mui/material/MenuItem';import{makeStyles}from'@mui/styles';import InputParamsContext from'./InputParamsContext';import{elements}from'../utilities/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{areaContainer:{borderLeft:\"1pt solid midnightblue\",borderRight:\"1pt solid midnightblue\",borderBottom:\"1pt solid midnightblue\",borderTop:\"0\",padding:\"1em 1em\"},listContainer:{marginTop:\"0.5em\",border:\"1pt solid lightgray\",padding:0}};});var ElementSelect=function ElementSelect(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),anchorEl=_useState2[0],setAnchorEl=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),selectedIndex=_useState4[0],setSelectedIndex=_useState4[1];var inputContext=useContext(InputParamsContext);var classes=useStyles();var isPoint=inputContext.inputParams.areaDef.hasOwnProperty('loc');var handleClickListItem=function handleClickListItem(event){setAnchorEl(event.currentTarget);};var handleMenuItemClick=function handleMenuItemClick(event,index){setSelectedIndex(index);setAnchorEl(null);var newElems=inputContext.inputParams.elems;newElems[0]=_objectSpread(_objectSpread({},newElems[0]),{},{name:elements[index].name,reduce:elements[index].reduce});inputContext.updateInputParams({elems:newElems});};var handleClose=function handleClose(){setAnchorEl(null);};return/*#__PURE__*/_jsxs(\"div\",{className:classes.areaContainer,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"Select element\"}),/*#__PURE__*/_jsx(List,{className:classes.listContainer,\"aria-label\":\"Element selection\",children:/*#__PURE__*/_jsx(ListItem,{button:true,\"aria-haspopup\":\"true\",\"aria-controls\":\"element-menu\",\"aria-label\":\"selected-element\",onClick:handleClickListItem,children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Click to select element\",secondary:\"Currently selected: \"+elements[selectedIndex].menuName})})}),/*#__PURE__*/_jsx(Menu,{id:\"element-menu\",anchorEl:anchorEl,keepMounted:true,open:Boolean(anchorEl),onClose:handleClose,children:elements.map(function(option,index){return/*#__PURE__*/_jsx(MenuItem,{selected:index===selectedIndex,disabled:option.name==='all'&&!isPoint,onClick:function onClick(event){return handleMenuItemClick(event,index);},children:option.menuName},option.menuName);})})]});};export default ElementSelect;","map":{"version":3,"names":["React","useContext","useState","Typography","List","ListItem","ListItemText","Menu","MenuItem","makeStyles","InputParamsContext","elements","jsx","_jsx","jsxs","_jsxs","useStyles","theme","areaContainer","borderLeft","borderRight","borderBottom","borderTop","padding","listContainer","marginTop","border","ElementSelect","_useState","_useState2","_slicedToArray","anchorEl","setAnchorEl","_useState3","_useState4","selectedIndex","setSelectedIndex","inputContext","classes","isPoint","inputParams","areaDef","hasOwnProperty","handleClickListItem","event","currentTarget","handleMenuItemClick","index","newElems","elems","_objectSpread","name","reduce","updateInputParams","handleClose","className","children","variant","button","onClick","primary","secondary","menuName","id","keepMounted","open","Boolean","onClose","map","option","selected","disabled"],"sources":["/Users/keith/git/ncei-normals-mapper/src/components/ElementSelect.js"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport Typography from '@mui/material/Typography';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport { makeStyles } from '@mui/styles';\nimport InputParamsContext from './InputParamsContext';\nimport { elements } from '../utilities/constants';\n\nconst useStyles = makeStyles((theme) => ({\n\tareaContainer: {\n\t\tborderLeft: \"1pt solid midnightblue\",\n\t\tborderRight: \"1pt solid midnightblue\",\n\t\tborderBottom: \"1pt solid midnightblue\",\n\t\tborderTop: \"0\",\n\t\tpadding: \"1em 1em\",\n\t},\n\tlistContainer: {\n\t\tmarginTop: \"0.5em\",\n\t\tborder: \"1pt solid lightgray\",\n\t\tpadding: 0,\n\t},\n}));\n\nconst ElementSelect = () => {\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [selectedIndex, setSelectedIndex] = useState(0);\n\tconst inputContext = useContext(InputParamsContext);\n\tconst classes = useStyles();\n\tconst isPoint = inputContext.inputParams.areaDef.hasOwnProperty('loc');\n\n\tconst handleClickListItem = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\n\tconst handleMenuItemClick = (event, index) => {\n\t\tsetSelectedIndex(index);\n\t\tsetAnchorEl(null);\n\t\tconst newElems = inputContext.inputParams.elems;\n\t\tnewElems[0] = {...newElems[0], name: elements[index].name, reduce: elements[index].reduce}\n\t\tinputContext.updateInputParams({elems: newElems});\n\t};\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\n\treturn (\n\t\t<div className={classes.areaContainer}>\n\t\t\t<Typography variant=\"body1\">\n\t\t\t\tSelect element\n\t\t\t</Typography>\n\t\t\t<List className={classes.listContainer} aria-label=\"Element selection\">\n\t\t\t\t<ListItem\n\t\t\t\t\tbutton\n\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\taria-controls=\"element-menu\"\n\t\t\t\t\taria-label=\"selected-element\"\n\t\t\t\t\tonClick={handleClickListItem}\n\t\t\t\t>\n\t\t\t\t\t<ListItemText primary=\"Click to select element\" secondary={\"Currently selected: \"+elements[selectedIndex].menuName} />\n\t\t\t\t</ListItem>\n\t\t\t</List>\n\t\t\t<Menu\n\t\t\t\tid=\"element-menu\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tkeepMounted\n\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\tonClose={handleClose} \n\t\t\t>\n\t\t\t\t{elements.map((option, index) => (\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tkey={option.menuName}\n\t\t\t\t\t\tselected={index === selectedIndex}\n\t\t\t\t\t\tdisabled={option.name === 'all' && !isPoint}\n\t\t\t\t\t\tonClick={(event) => handleMenuItemClick(event, index)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{option.menuName}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t))}\n\t\t\t</Menu>\n\t\t</div>\n\t);\n}\n\nexport default ElementSelect;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}