{"ast":null,"code":"import _objectSpread from\"/Users/kle1/progs/React/ncei-normals-mapper/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/kle1/progs/React/ncei-normals-mapper/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect,useContext}from'react';import{makeStyles}from'@material-ui/core/styles';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableRow from'@material-ui/core/TableRow';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemText from'@material-ui/core/ListItemText';import Menu from'@material-ui/core/Menu';import MenuItem from'@material-ui/core/MenuItem';import Typography from'@material-ui/core/Typography';import InputParamsContext from'./InputParamsContext';import{infoText}from'../utilities/constants';var useStyles=makeStyles(function(theme){return{colorsContainer:{marginTop:\"0.75em\",border:\"1pt solid lightgray\",padding:0},listContainer:{padding:0},colorFormControl:{width:\"100%\"},colorInputLabel:{color:\"rgba(0,0,0,0.87)\"},colorbarContainer:{margin:\"0 1em 0.5em 1em\",width:\"unset\"},errormsg:{color:\"red\",marginTop:\"6px\",fontSize:\"90%\"}};});var ColorsSelect=function ColorsSelect(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),anchorEl=_useState2[0],setAnchorEl=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),colorCount=_useState4[0],setColorCount=_useState4[1];var _useState5=useState('Blues'),_useState6=_slicedToArray(_useState5,2),cmp=_useState6[0],setCmp=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),colorError=_useState8[0],setColorError=_useState8[1];var classes=useStyles();var inputContext=useContext(InputParamsContext);var colormaps=require('../utilities/colorbrewer.json');var colormap_keys=Object.keys(colormaps);var handleClickListItem=function handleClickListItem(event){setAnchorEl(event.currentTarget);};var handleMenuItemClick=function handleMenuItemClick(val){setAnchorEl(null);setCmp(val);//const levelcnt = (inputContext.inputParams.image.levels && inputContext.inputParams.image.levels.length >= 0) ? inputContext.inputParams.image.levels.split(\",\").length : inputContext.levels.server.length;\n//setColorCount(levelcnt+1);\nif(colormaps[val].hasOwnProperty(colorCount)){var newColors=colormaps[val][colorCount];if(inputContext.levels.client.length===0){inputContext.updateInputParams({image:_objectSpread(_objectSpread({},inputContext.inputParams.image),{},{cmap:newColors,levels:inputContext.levels.server.join(\",\")})});}else{inputContext.updateInputParams({image:_objectSpread(_objectSpread({},inputContext.inputParams.image),{},{cmap:newColors})});}setColorError(false);}else{inputContext.updateInputParams({image:_objectSpread(_objectSpread({},inputContext.inputParams.image),{},{cmap:[]})});setColorError(true);}};var handleClose=function handleClose(){setAnchorEl(null);};useEffect(function(){if(inputContext.colors.server){setColorCount(inputContext.colors.server.length);setColorError(false);}},[inputContext.colors.server]);useEffect(function(){if(typeof inputContext.inputParams.image.levels==='string'&&inputContext.inputParams.image.levels.length>=0){var levelLength=inputContext.inputParams.image.levels.split(\",\").length;setColorCount(levelLength+1);if(colormaps[cmp].hasOwnProperty(levelLength+1)){var newColors=colormaps[cmp][levelLength+1];inputContext.updateInputParams({image:_objectSpread(_objectSpread({},inputContext.inputParams.image),{},{cmap:newColors})});setColorError(false);}else{inputContext.updateInputParams({image:_objectSpread(_objectSpread({},inputContext.inputParams.image),{},{cmap:[]})});setCmp('Blues');setColorError(levelLength===1?false:true);}}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[inputContext.inputParams.image.levels]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.colorsContainer,children:[(inputContext.levels.client.length>0||inputContext.levels.server.length>0)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(List,{className:classes.listContainer,\"aria-label\":\"color selection\",children:/*#__PURE__*/_jsx(ListItem,{button:true,\"aria-haspopup\":\"true\",\"aria-controls\":\"color-map-menu\",\"aria-label\":\"selected-color\",onClick:handleClickListItem,children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Click to change color map\",secondary:\"Currently selected: \"+cmp})})}),/*#__PURE__*/_jsx(Menu,{id:\"color-map-menu\",anchorEl:anchorEl,keepMounted:true,open:Boolean(anchorEl),onClose:handleClose,children:colormap_keys.map(function(val,index){return/*#__PURE__*/_jsx(MenuItem,{selected:val===cmp,onClick:function onClick(event){return handleMenuItemClick(val);},children:/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsx(Table,{padding:\"none\",\"aria-label\":\"color table\",children:/*#__PURE__*/_jsx(TableBody,{children:colormaps[val].hasOwnProperty(colorCount)&&/*#__PURE__*/_jsxs(TableRow,{children:[colormaps[val][colorCount].map(function(cs,i){return/*#__PURE__*/_jsx(TableCell,{style:{width:\"1em\",backgroundColor:\"\"+cs+\"\"},children:\"\\xA0\"},i);}),/*#__PURE__*/_jsx(TableCell,{style:{paddingLeft:\"1em\"},children:val})]})})})})},val);})}),cmp&&!colorError&&colormaps[cmp].hasOwnProperty(colorCount)&&/*#__PURE__*/_jsx(TableContainer,{className:classes.colorbarContainer,children:/*#__PURE__*/_jsx(Table,{size:\"small\",padding:\"none\",\"aria-label\":\"color table\",children:/*#__PURE__*/_jsx(TableBody,{children:/*#__PURE__*/_jsx(TableRow,{children:colormaps[cmp][colorCount].map(function(cs,i){return/*#__PURE__*/_jsx(TableCell,{style:{width:\"1em\",backgroundColor:\"\"+cs+\"\"},children:\"\\xA0\"},i);})})})})})]}),colorError&&/*#__PURE__*/_jsx(Typography,{variant:\"body1\",className:classes.errormsg,gutterBottom:true,children:infoText.colors})]});};export default ColorsSelect;","map":{"version":3,"sources":["/Users/kle1/progs/React/ncei-normals-mapper/src/components/ColorsSelect.js"],"names":["React","useState","useEffect","useContext","makeStyles","Table","TableBody","TableCell","TableContainer","TableRow","List","ListItem","ListItemText","Menu","MenuItem","Typography","InputParamsContext","infoText","useStyles","theme","colorsContainer","marginTop","border","padding","listContainer","colorFormControl","width","colorInputLabel","color","colorbarContainer","margin","errormsg","fontSize","ColorsSelect","anchorEl","setAnchorEl","colorCount","setColorCount","cmp","setCmp","colorError","setColorError","classes","inputContext","colormaps","require","colormap_keys","Object","keys","handleClickListItem","event","currentTarget","handleMenuItemClick","val","hasOwnProperty","newColors","levels","client","length","updateInputParams","image","inputParams","cmap","server","join","handleClose","colors","levelLength","split","Boolean","map","index","cs","i","backgroundColor","paddingLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Typography from '@material-ui/core/Typography';\nimport InputParamsContext from './InputParamsContext';\nimport { infoText } from '../utilities/constants';\n\nconst useStyles = makeStyles((theme) => ({\n\tcolorsContainer: {\n\t\tmarginTop: \"0.75em\",\n\t\tborder: \"1pt solid lightgray\",\n\t\tpadding: 0,\n\t},\n\tlistContainer: {\n\t\tpadding:0,\n\t},\n\tcolorFormControl: {\n\t\twidth: \"100%\",\n\t},\n\tcolorInputLabel: {\n\t\tcolor: \"rgba(0,0,0,0.87)\",\n\t},\n\tcolorbarContainer: {\n\t\tmargin:\"0 1em 0.5em 1em\",\n\t\twidth:\"unset\",\n\t},\n\terrormsg: {\n\t\tcolor: \"red\",\n\t\tmarginTop: \"6px\",\n\t\tfontSize: \"90%\",\n\t},\n}));\n\nconst ColorsSelect = () => {\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [ colorCount, setColorCount ] = useState(0);\n\tconst [ cmp, setCmp ] = useState('Blues');\n\tconst [ colorError, setColorError ] = useState(false);\n\tconst classes = useStyles();\n\tconst inputContext = useContext(InputParamsContext);\n\n\tconst colormaps = require('../utilities/colorbrewer.json');\n\tconst colormap_keys = Object.keys(colormaps);\n\n\tconst handleClickListItem = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\n\tconst handleMenuItemClick = (val) => {\n\t\tsetAnchorEl(null);\n\t\tsetCmp(val);\n\t\t//const levelcnt = (inputContext.inputParams.image.levels && inputContext.inputParams.image.levels.length >= 0) ? inputContext.inputParams.image.levels.split(\",\").length : inputContext.levels.server.length;\n\t\t//setColorCount(levelcnt+1);\n\t\tif (colormaps[val].hasOwnProperty(colorCount)) {\n\t\t\tconst newColors = colormaps[val][colorCount];\n\t\t\tif (inputContext.levels.client.length === 0) {\n\t\t\t\tinputContext.updateInputParams({image: {...inputContext.inputParams.image, cmap: newColors, levels: inputContext.levels.server.join(\",\")}});\n\t\t\t} else {\n\t\t\t\tinputContext.updateInputParams({image: {...inputContext.inputParams.image, cmap: newColors}});\n\t\t\t}\n\t\t\tsetColorError(false);\n\t\t} else {\n\t\t\tinputContext.updateInputParams({image: {...inputContext.inputParams.image, cmap: []}});\n\t\t\tsetColorError(true);\n\t\t}\n\t};\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tuseEffect(() => {\n\t\tif (inputContext.colors.server) {\n\t\t\tsetColorCount(inputContext.colors.server.length);\n\t\t\tsetColorError(false);\n\t\t}\n\t}, [inputContext.colors.server]);\n\n\tuseEffect(() => {\n\t\tif (typeof inputContext.inputParams.image.levels === 'string' && inputContext.inputParams.image.levels.length >= 0) {\n\t\t\tconst levelLength = inputContext.inputParams.image.levels.split(\",\").length;\n\t\t\tsetColorCount(levelLength + 1);\n\t\t\tif (colormaps[cmp].hasOwnProperty(levelLength + 1)) {\n\t\t\t\tconst newColors = colormaps[cmp][levelLength + 1];\n\t\t\t\tinputContext.updateInputParams({image: {...inputContext.inputParams.image, cmap: newColors}});\n\t\t\t\tsetColorError(false);\n\t\t\t} else {\n\t\t\t\tinputContext.updateInputParams({image: {...inputContext.inputParams.image, cmap: []}});\n\t\t\t\tsetCmp('Blues');\n\t\t\t\tsetColorError(levelLength === 1 ? false : true);\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [inputContext.inputParams.image.levels]);\n\n\treturn ( \n\t\t<div className={classes.colorsContainer}>\n\t\t\t{(inputContext.levels.client.length > 0 || inputContext.levels.server.length > 0) &&\n\t\t\t\t<>\n\t\t\t\t\t<List className={classes.listContainer} aria-label=\"color selection\">\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\taria-controls=\"color-map-menu\"\n\t\t\t\t\t\t\taria-label=\"selected-color\"\n\t\t\t\t\t\t\tonClick={handleClickListItem}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary=\"Click to change color map\" secondary={\"Currently selected: \"+cmp} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</List>\n\n\t\t\t\t\t<Menu\n\t\t\t\t\t\tid=\"color-map-menu\"\n\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\tkeepMounted\n\t\t\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\t\t\tonClose={handleClose} \n\t\t\t\t\t>\n\t\t\t\t\t\t{colormap_keys.map((val, index) => (\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tkey={val}\n\t\t\t\t\t\t\t\tselected={val === cmp}\n\t\t\t\t\t\t\t\tonClick={(event) => handleMenuItemClick(val)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<TableContainer>\n\t\t\t\t\t\t\t\t\t<Table padding=\"none\" aria-label=\"color table\">\n\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t{colormaps[val].hasOwnProperty(colorCount) &&\n\t\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{colormaps[val][colorCount].map((cs, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell key={i} style={{width:\"1em\", backgroundColor:\"\" + cs + \"\"}}>&nbsp;</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell style={{paddingLeft:\"1em\"}}>{val}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\t\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Menu>\n\n\t\t\t\t\t{cmp && !colorError && colormaps[cmp].hasOwnProperty(colorCount) &&\n\t\t\t\t\t\t<TableContainer className={classes.colorbarContainer}>\n\t\t\t\t\t\t\t<Table size=\"small\" padding=\"none\" aria-label=\"color table\">\n\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t{colormaps[cmp][colorCount].map((cs, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<TableCell key={i} style={{width:\"1em\", backgroundColor:\"\" + cs + \"\"}}>&nbsp;</TableCell>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</TableRow>\t\n\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t}\n\t\t\t\t</>\n\t\t\t}\n\n\t\t\t{colorError &&\n\t\t\t\t<Typography variant=\"body1\" className={classes.errormsg} gutterBottom>\n\t\t\t\t\t{infoText.colors}\n\t\t\t\t</Typography>\n\t\t\t}\n\n\t\t</div>\n\t);\n}\n\nexport default ColorsSelect;"]},"metadata":{},"sourceType":"module"}