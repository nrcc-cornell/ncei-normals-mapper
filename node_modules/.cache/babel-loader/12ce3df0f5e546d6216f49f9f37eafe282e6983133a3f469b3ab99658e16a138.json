{"ast":null,"code":"import _slicedToArray from\"/Users/keith/progs/React/ncei-normals-mapper/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Paper from\"@mui/material/Paper\";import Typography from\"@mui/material/Typography\";import Button from'@mui/material/Button';import{makeStyles}from\"@mui/styles\";import{elementNames}from'../utilities/constants';import{downloadFetch}from'../utilities/utils';import DisplayRequest from'./DisplayRequest';import MapTitle from'./MapTitle';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{resContainer:{display:\"inline-block\",padding:\"0 1em\",margin:\"0.5em 0 0.5em\"},downloadButton:{margin:\"1em 0.5em\"}};});var DisplayJson=function DisplayJson(props){var jsonresp=props.jsonresp,submittedParams=props.submittedParams,inputParams=props.inputParams;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showParams=_useState2[0],setShowParams=_useState2[1];var classes=useStyles();var eNames=elementNames();var cElems=['date'];submittedParams.elems.forEach(function(e){var aname=e.hasOwnProperty('name')?e.name:e.elem.name;cElems.push(aname);});var handleShowParamsClick=function handleShowParamsClick(){setShowParams(function(prev){return!prev;});};var handleDownJsonClick=function handleDownJsonClick(){downloadFetch(submittedParams,'normalsData.json','json');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MapTitle,{submittedParams:submittedParams,inputParams:inputParams}),/*#__PURE__*/_jsx(Paper,{variant:\"outlined\",className:classes.resContainer,children:jsonresp[0].map(function(col,i){return/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:cElems[i]!=='date'&&eNames[cElems[i]]+\": \"+parseFloat(col).toFixed(cElems[i]==='pcpn'?2:1)},i);})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",className:classes.downloadButton,onClick:handleDownJsonClick,children:\"Download data (json)\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",className:classes.downloadButton,onClick:handleShowParamsClick,children:\"Display request (json)\"}),/*#__PURE__*/_jsx(\"br\",{}),showParams&&/*#__PURE__*/_jsx(DisplayRequest,{submittedParams:submittedParams})]});};export default DisplayJson;","map":{"version":3,"names":["React","useState","Paper","Typography","Button","makeStyles","elementNames","downloadFetch","DisplayRequest","MapTitle","jsx","_jsx","jsxs","_jsxs","useStyles","theme","resContainer","display","padding","margin","downloadButton","DisplayJson","props","jsonresp","submittedParams","inputParams","_useState","_useState2","_slicedToArray","showParams","setShowParams","classes","eNames","cElems","elems","forEach","e","aname","hasOwnProperty","name","elem","push","handleShowParamsClick","prev","handleDownJsonClick","children","variant","className","map","col","i","parseFloat","toFixed","size","onClick"],"sources":["/Users/keith/progs/React/ncei-normals-mapper/src/components/DisplayJson.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Paper from \"@mui/material/Paper\";\nimport Typography from \"@mui/material/Typography\";\nimport Button from '@mui/material/Button';\nimport { makeStyles } from \"@mui/styles\";\nimport { elementNames } from '../utilities/constants';\nimport { downloadFetch } from '../utilities/utils';\nimport DisplayRequest from './DisplayRequest';\nimport MapTitle from './MapTitle';\n\nconst useStyles = makeStyles((theme) => ({\n\tresContainer: {\n\t\tdisplay:\"inline-block\", \n\t\tpadding:\"0 1em\",\n\t\tmargin: \"0.5em 0 0.5em\",\n\t},\n    downloadButton: {\n\t\tmargin: \"1em 0.5em\",\n\t},\n}));\n\nconst DisplayJson = (props) => {\n\tconst { jsonresp, submittedParams, inputParams } = props;\n    const [showParams, setShowParams] = useState(false);\n    const classes = useStyles();\n    const eNames = elementNames();\n    const cElems = ['date'];\n    submittedParams.elems.forEach((e) => {\n        const aname = e.hasOwnProperty('name') ? e.name : e.elem.name;\n        cElems.push(aname);\n    })\n\n\tconst handleShowParamsClick = () => {\n\t\tsetShowParams(prev => !prev);\n\t}\n \n    const handleDownJsonClick = () => {\n\t\tdownloadFetch(submittedParams, 'normalsData.json', 'json');\n\t}\n\n    return (\n        <div>\n            <MapTitle \n                submittedParams={submittedParams}\n                inputParams={inputParams}\n            />\n            <Paper variant=\"outlined\" className={classes.resContainer}>\n                {jsonresp[0].map((col,i) => (\n                    <Typography variant=\"body1\" key={i}>\n                        {cElems[i] !== 'date' &&\n                            eNames[cElems[i]] + \": \" + parseFloat(col).toFixed(cElems[i] === 'pcpn' ? 2 : 1)\n                        }\n                    </Typography>\n                ))}\n            </Paper>\n            <br />\n            <Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleDownJsonClick}>Download data (json)</Button>\n            <Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleShowParamsClick}>Display request (json)</Button>\n            <br />\n\t\t\t{showParams &&\n\t\t\t\t<DisplayRequest \n\t\t\t\t\tsubmittedParams={submittedParams}\n\t\t\t\t/>\n\t\t\t}\n        </div>\n    );\n}\n\nexport default DisplayJson;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}