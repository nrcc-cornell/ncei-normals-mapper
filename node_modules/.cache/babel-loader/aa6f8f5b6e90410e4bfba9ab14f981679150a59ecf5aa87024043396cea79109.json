{"ast":null,"code":"import _toConsumableArray from\"/Users/keith/git/ncei-normals-mapper/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/keith/git/ncei-normals-mapper/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Paper from\"@mui/material/Paper\";import Typography from\"@mui/material/Typography\";import Button from'@mui/material/Button';import{makeStyles}from\"@mui/styles\";import{elementNames}from'../utilities/constants';import{downloadFetch}from'../utilities/utils';import DisplayRequest from'./DisplayRequest';import MapTitle from'./MapTitle';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{resContainer:{display:\"inline-block\",padding:\"0 1em\",margin:\"0.5em 0 0.5em\"},downloadButton:{margin:\"1em 0.5em\"}};});var DisplayJson=function DisplayJson(props){var jsonresp=props.jsonresp,submittedParams=props.submittedParams;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showParams=_useState2[0],setShowParams=_useState2[1];var classes=useStyles();var eNames=elementNames();var sElems=[{name:'date'}].concat(_toConsumableArray(submittedParams.elems));var handleShowParamsClick=function handleShowParamsClick(){setShowParams(function(prev){return!prev;});};var handleDownJsonClick=function handleDownJsonClick(){downloadFetch(submittedParams,'normalsData.json','json');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MapTitle,{submittedParams:submittedParams}),/*#__PURE__*/_jsx(Paper,{variant:\"outlined\",className:classes.resContainer,children:jsonresp[0].map(function(col,i){return/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:sElems[i].name!=='date'&&eNames[sElems[i].elem.name]+\": \"+parseFloat(col).toFixed(sElems[i].elem.name==='pcpn'?2:1)},i);})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",className:classes.downloadButton,onClick:handleDownJsonClick,children:\"Download data (json)\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",className:classes.downloadButton,onClick:handleShowParamsClick,children:\"Display request (json)\"}),/*#__PURE__*/_jsx(\"br\",{}),showParams&&/*#__PURE__*/_jsx(DisplayRequest,{submittedParams:submittedParams})]});};export default DisplayJson;","map":{"version":3,"names":["React","useState","Paper","Typography","Button","makeStyles","elementNames","downloadFetch","DisplayRequest","MapTitle","jsx","_jsx","jsxs","_jsxs","useStyles","theme","resContainer","display","padding","margin","downloadButton","DisplayJson","props","jsonresp","submittedParams","_useState","_useState2","_slicedToArray","showParams","setShowParams","classes","eNames","sElems","name","concat","_toConsumableArray","elems","handleShowParamsClick","prev","handleDownJsonClick","children","variant","className","map","col","i","elem","parseFloat","toFixed","size","onClick"],"sources":["/Users/keith/git/ncei-normals-mapper/src/components/DisplayJson.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Paper from \"@mui/material/Paper\";\nimport Typography from \"@mui/material/Typography\";\nimport Button from '@mui/material/Button';\nimport { makeStyles } from \"@mui/styles\";\nimport { elementNames } from '../utilities/constants';\nimport { downloadFetch } from '../utilities/utils';\nimport DisplayRequest from './DisplayRequest';\nimport MapTitle from './MapTitle';\n\nconst useStyles = makeStyles((theme) => ({\n\tresContainer: {\n\t\tdisplay:\"inline-block\", \n\t\tpadding:\"0 1em\",\n\t\tmargin: \"0.5em 0 0.5em\",\n\t},\n    downloadButton: {\n\t\tmargin: \"1em 0.5em\",\n\t},\n}));\n\nconst DisplayJson = (props) => {\n\tconst { jsonresp, submittedParams } = props;\n    const [showParams, setShowParams] = useState(false);\n    const classes = useStyles();\n    const eNames = elementNames();\n    const sElems = [{name:'date'}, ...submittedParams.elems];\n\n\tconst handleShowParamsClick = () => {\n\t\tsetShowParams(prev => !prev);\n\t}\n \n    const handleDownJsonClick = () => {\n\t\tdownloadFetch(submittedParams, 'normalsData.json', 'json');\n\t}\n\n    return (\n        <div>\n            <MapTitle \n                submittedParams={submittedParams}\n            />\n            <Paper variant=\"outlined\" className={classes.resContainer}>\n                {jsonresp[0].map((col,i) => (\n                    <Typography variant=\"body1\" key={i}>\n                        {sElems[i].name !== 'date' &&\n                            eNames[sElems[i].elem.name] + \": \" + parseFloat(col).toFixed(sElems[i].elem.name === 'pcpn' ? 2 : 1)\n                        }\n                    </Typography>\n                ))}\n            </Paper>\n            <br />\n            <Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleDownJsonClick}>Download data (json)</Button>\n            <Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleShowParamsClick}>Display request (json)</Button>\n            <br />\n\t\t\t{showParams &&\n\t\t\t\t<DisplayRequest \n\t\t\t\t\tsubmittedParams={submittedParams}\n\t\t\t\t/>\n\t\t\t}\n        </div>\n    );\n}\n\nexport default DisplayJson;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}