{"ast":null,"code":"import _toConsumableArray from\"/Users/kle1/progs/React/ncei-normals-leaflet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/kle1/progs/React/ncei-normals-leaflet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from\"react\";import Paper from\"@material-ui/core/Paper\";import Typography from\"@material-ui/core/Typography\";import Button from'@material-ui/core/Button';import{makeStyles}from\"@material-ui/core/styles\";import{elementNames}from'../utilities/constants';import{downloadFetch}from'../utilities/utils';import DisplayRequest from'./DisplayRequest';var useStyles=makeStyles(function(theme){return{resContainer:{display:\"inline-block\",padding:\"0 1em\",margin:\"0 0 0.5em\"},downloadButton:{margin:\"1em 0.5em\"}};});var DisplayJson=function DisplayJson(props){var jsonresp=props.jsonresp,submittedParams=props.submittedParams;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showParams=_useState2[0],setShowParams=_useState2[1];var classes=useStyles();var eNames=elementNames();var sElems=[{name:'date'}].concat(_toConsumableArray(JSON.parse(submittedParams).elems));var handleShowParamsClick=function handleShowParamsClick(){setShowParams(function(prev){return!prev;});};var handleDownJsonClick=function handleDownJsonClick(){downloadFetch(submittedParams,'normalsData.json','json');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",className:classes.resContainer,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Results:\"}),jsonresp[0].map(function(col,i){return/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:sElems[i].name!=='date'&&eNames[sElems[i].elem.name]+\": \"+parseFloat(col).toFixed(sElems[i].elem.name==='pcpn'?2:1)},i);})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",className:classes.downloadButton,onClick:handleDownJsonClick,children:\"Download data (json)\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",className:classes.downloadButton,onClick:handleShowParamsClick,children:\"Display request (json)\"}),/*#__PURE__*/_jsx(\"br\",{}),showParams&&/*#__PURE__*/_jsx(DisplayRequest,{submittedParams:submittedParams})]});};export default DisplayJson;","map":{"version":3,"sources":["/Users/kle1/progs/React/ncei-normals-leaflet/src/components/DisplayJson.js"],"names":["React","useState","Paper","Typography","Button","makeStyles","elementNames","downloadFetch","DisplayRequest","useStyles","theme","resContainer","display","padding","margin","downloadButton","DisplayJson","props","jsonresp","submittedParams","showParams","setShowParams","classes","eNames","sElems","name","JSON","parse","elems","handleShowParamsClick","prev","handleDownJsonClick","map","col","i","elem","parseFloat","toFixed"],"mappings":"saAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,yBAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,OAASC,YAAT,KAA6B,wBAA7B,CACA,OAASC,aAAT,KAA8B,oBAA9B,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CAEA,GAAMC,CAAAA,SAAS,CAAGJ,UAAU,CAAC,SAACK,KAAD,QAAY,CACxCC,YAAY,CAAE,CACbC,OAAO,CAAC,cADK,CAEbC,OAAO,CAAC,OAFK,CAGbC,MAAM,CAAE,WAHK,CAD0B,CAMrCC,cAAc,CAAE,CAClBD,MAAM,CAAE,WADU,CANqB,CAAZ,EAAD,CAA5B,CAWA,GAAME,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,IACtBC,CAAAA,QADsB,CACQD,KADR,CACtBC,QADsB,CACZC,eADY,CACQF,KADR,CACZE,eADY,eAESlB,QAAQ,CAAC,KAAD,CAFjB,wCAEpBmB,UAFoB,eAERC,aAFQ,eAG3B,GAAMC,CAAAA,OAAO,CAAGb,SAAS,EAAzB,CACA,GAAMc,CAAAA,MAAM,CAAGjB,YAAY,EAA3B,CACA,GAAMkB,CAAAA,MAAM,EAAI,CAACC,IAAI,CAAC,MAAN,CAAJ,4BAAsBC,IAAI,CAACC,KAAL,CAAWR,eAAX,EAA4BS,KAAlD,EAAZ,CAEH,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CACnCR,aAAa,CAAC,SAAAS,IAAI,QAAI,CAACA,IAAL,EAAL,CAAb,CACA,CAFD,CAIG,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CACpCxB,aAAa,CAACY,eAAD,CAAkB,kBAAlB,CAAsC,MAAtC,CAAb,CACA,CAFE,CAIA,mBACI,oCACI,MAAC,KAAD,EAAO,OAAO,CAAC,UAAf,CAA0B,SAAS,CAAEG,OAAO,CAACX,YAA7C,wBACI,KAAC,UAAD,EAAY,OAAO,CAAC,WAApB,sBADJ,CAIKO,QAAQ,CAAC,CAAD,CAAR,CAAYc,GAAZ,CAAgB,SAACC,GAAD,CAAKC,CAAL,qBACb,KAAC,UAAD,EAAY,OAAO,CAAC,OAApB,UACKV,MAAM,CAACU,CAAD,CAAN,CAAUT,IAAV,GAAmB,MAAnB,EACGF,MAAM,CAACC,MAAM,CAACU,CAAD,CAAN,CAAUC,IAAV,CAAeV,IAAhB,CAAN,CAA8B,IAA9B,CAAqCW,UAAU,CAACH,GAAD,CAAV,CAAgBI,OAAhB,CAAwBb,MAAM,CAACU,CAAD,CAAN,CAAUC,IAAV,CAAeV,IAAf,GAAwB,MAAxB,CAAiC,CAAjC,CAAqC,CAA7D,CAF7C,EAAiCS,CAAjC,CADa,EAAhB,CAJL,GADJ,cAaI,aAbJ,cAcI,KAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,IAAI,CAAC,OAAjC,CAAyC,SAAS,CAAEZ,OAAO,CAACP,cAA5D,CAA4E,OAAO,CAAEgB,mBAArF,kCAdJ,cAeI,KAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,IAAI,CAAC,OAAjC,CAAyC,SAAS,CAAET,OAAO,CAACP,cAA5D,CAA4E,OAAO,CAAEc,qBAArF,oCAfJ,cAgBI,aAhBJ,CAiBJT,UAAU,eACV,KAAC,cAAD,EACC,eAAe,CAAED,eADlB,EAlBI,GADJ,CAyBH,CAxCD,CA0CA,cAAeH,CAAAA,WAAf","sourcesContent":["import React, { useState } from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { elementNames } from '../utilities/constants';\nimport { downloadFetch } from '../utilities/utils';\nimport DisplayRequest from './DisplayRequest';\n\nconst useStyles = makeStyles((theme) => ({\n\tresContainer: {\n\t\tdisplay:\"inline-block\", \n\t\tpadding:\"0 1em\",\n\t\tmargin: \"0 0 0.5em\",\n\t},\n    downloadButton: {\n\t\tmargin: \"1em 0.5em\",\n\t},\n}));\n\nconst DisplayJson = (props) => {\n\tconst { jsonresp, submittedParams } = props;\n    const [showParams, setShowParams] = useState(false);\n    const classes = useStyles();\n    const eNames = elementNames();\n    const sElems = [{name:'date'}, ...JSON.parse(submittedParams).elems];\n\n\tconst handleShowParamsClick = () => {\n\t\tsetShowParams(prev => !prev);\n\t}\n \n    const handleDownJsonClick = () => {\n\t\tdownloadFetch(submittedParams, 'normalsData.json', 'json');\n\t}\n\n    return (\n        <div>\n            <Paper variant=\"outlined\" className={classes.resContainer}>\n                <Typography variant=\"subtitle1\">\n                    Results:\n                </Typography>\n                {jsonresp[0].map((col,i) => (\n                    <Typography variant=\"body1\" key={i}>\n                        {sElems[i].name !== 'date' &&\n                            eNames[sElems[i].elem.name] + \": \" + parseFloat(col).toFixed(sElems[i].elem.name === 'pcpn' ? 2 : 1)\n                        }\n                    </Typography>\n                ))}\n            </Paper>\n            <br />\n            <Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleDownJsonClick}>Download data (json)</Button>\n            <Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleShowParamsClick}>Display request (json)</Button>\n            <br />\n\t\t\t{showParams &&\n\t\t\t\t<DisplayRequest \n\t\t\t\t\tsubmittedParams={submittedParams}\n\t\t\t\t/>\n\t\t\t}\n        </div>\n    );\n}\n\nexport default DisplayJson;"]},"metadata":{},"sourceType":"module"}