{"ast":null,"code":"import _objectSpread from\"/Users/keith/progs/React/ncei-normals-mapper/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/keith/progs/React/ncei-normals-mapper/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{elements,maxbbox}from'../utilities/constants';//const dateDiff = (date1, date2) => {\n//\tconst sdate = date1 instanceof Date ? date1 : new Date(date1);\n//\tconst edate = date2 instanceof Date ? date2 : new Date(date2);\n//\tconst one_day = 1000 * 60 * 60 * 24;\n//\treturn (Math.round((edate.getTime() - sdate.getTime()) / one_day));\n//};\n// check bounding box \nvar checkBbox=function checkBbox(bbox){var newbbox=_toConsumableArray(bbox);if(bbox[0]<maxbbox.west){newbbox[0]=maxbbox.west;}if(bbox[1]<maxbbox.south){newbbox[1]=maxbbox.south;}if(bbox[2]>maxbbox.east){newbbox[2]=maxbbox.east;}if(bbox[3]>maxbbox.north){newbbox[3]=maxbbox.north;}return newbbox;};// check point \nvar checkLoc=function checkLoc(loc){var newloc=_toConsumableArray(loc);if(loc[0]<maxbbox.west){newloc[0]=maxbbox.west;}if(loc[1]<maxbbox.south){newloc[1]=maxbbox.south;}if(loc[0]>maxbbox.east){newloc[0]=maxbbox.east;}if(loc[1]>maxbbox.north){newloc[1]=maxbbox.north;}return newloc;};var buildParams=function buildParams(input_params){var paramsToSubmit={grid:input_params.grid,output:input_params.output};//console.log(input_params) // for debugging\n// For \"interval\" date selection, calculate duration based on sdate and edate. \nvar mndiff=parseInt(input_params.edate.split(\"-\")[1])-parseInt(input_params.sdate.split(\"-\")[1]);var duration=mndiff+(mndiff>=0?1:13);// Set up nested elements\nvar origElem=input_params.elems[0];var newElems=[{elem:origElem,interval:[0,1],duration:duration,reduce:origElem.reduce}];// Replicate nested elems for all variables, if requested for a single grid point\nif(origElem.name==='all'){var nestedElem=_objectSpread(_objectSpread({},newElems[0].elem),{},{name:'maxt',reduce:elements[0].reduce});newElems[0]=_objectSpread(_objectSpread({},newElems[0]),{},{elem:nestedElem,reduce:elements[0].reduce});['mint','avgt','pcpn'].forEach(function(elem,i){nestedElem=_objectSpread(_objectSpread({},newElems[0].elem),{},{name:elem,reduce:elements[i+1].reduce});newElems.push(_objectSpread(_objectSpread({},newElems[0]),{},{elem:nestedElem,reduce:elements[i+1].reduce}));});}// Add actual elems as modified above to paramenters object\nparamsToSubmit.elems=newElems;// send just date instead of sdate and edate.\nvar newDate=input_params.elems[0].interval.length===2?input_params.edate.slice(0,7):input_params.edate;paramsToSubmit.date=newDate;// areaDef is type (state, loc, bbox) and value of area of interest.\nif(input_params.areaDef.bbox){input_params.areaDef.bbox=input_params.areaDef.bbox.map(function(x){return parseFloat(x);});var newbbox=checkBbox(input_params.areaDef.bbox);paramsToSubmit=_objectSpread(_objectSpread({},paramsToSubmit),{},{bbox:newbbox});//console.log(input_params.areaDef.bbox)\n}else if(input_params.areaDef.loc){input_params.areaDef.loc=input_params.areaDef.loc.map(function(x){return parseFloat(x);});var newloc=checkLoc(input_params.areaDef.loc);paramsToSubmit=_objectSpread(_objectSpread({},paramsToSubmit),{},{loc:newloc});}else if(input_params.areaDef.state){paramsToSubmit=_objectSpread(_objectSpread({},paramsToSubmit),input_params.areaDef);}else{console.log(\"unknown areaDef\");}// point location can only be json\nif(paramsToSubmit.loc){paramsToSubmit=_objectSpread(_objectSpread({},paramsToSubmit),{},{output:\"json\"});}// added image object if png output\nif(paramsToSubmit.output==='png'){var newImage=_objectSpread({},input_params.image);// convert levels string (from Image Settings) to array\nif(input_params.image.levels&&typeof input_params.image.levels==='string'){var splitLevels=input_params.image.levels.split(\",\");var newLevels=splitLevels.map(function(x){return parseFloat(x);});newImage=_objectSpread(_objectSpread({},newImage),{},{levels:newLevels});}// leave off empty levels element\nif(input_params.image.hasOwnProperty('levels')&&(input_params.image.levels===\"\"||input_params.image.levels.length===0)){delete newImage.levels;delete newImage.cmap;}if(input_params.image.hasOwnProperty('cmap')&&input_params.image.cmap.length===0){delete newImage.cmap;}paramsToSubmit=_objectSpread(_objectSpread({},paramsToSubmit),{},{image:newImage});}return paramsToSubmit;};// download a retrieved png image\nvar downloadFile=function downloadFile(href,filename){var link=document.createElement('a');link.href=href;link.download=filename;document.body.appendChild(link);link.click();document.body.removeChild(link);};// retrieve and download a geotiff or json file\nvar downloadFetch=function downloadFetch(jsonparams,filename,output){if(output==='json'){delete jsonparams.image;}var submitParams=JSON.stringify(_objectSpread(_objectSpread({},jsonparams),{},{output:output,meta:\"ll\"}));fetch(\"https://grid2.rcc-acis.org/GridData\",{body:submitParams,method:\"POST\",headers:{'Content-Type':'application/json'}}).then(function(response){if(!response.ok){console.log(\"Error fetching the results\");return;}return output==='json'?response.json():response.blob();}).then(function(response){var blob;if(output==='json'){var json=JSON.stringify(response);blob=new Blob([json],{type:'application/json'});}else{blob=response;}var href=window.URL.createObjectURL(blob);downloadFile(href,filename);}).catch(function(err){if(err.message.includes(\"Failed to execute 'createObjectURL' on 'URL'\")){console.log(\"Invalid grid request - \"+jsonparams);}else{console.log(err.message);};});};export{buildParams,checkBbox,downloadFile,downloadFetch};","map":{"version":3,"names":["elements","maxbbox","checkBbox","bbox","newbbox","_toConsumableArray","west","south","east","north","checkLoc","loc","newloc","buildParams","input_params","paramsToSubmit","grid","output","mndiff","parseInt","edate","split","sdate","duration","origElem","elems","newElems","elem","interval","reduce","name","nestedElem","_objectSpread","forEach","i","push","newDate","length","slice","date","areaDef","map","x","parseFloat","state","console","log","newImage","image","levels","splitLevels","newLevels","hasOwnProperty","cmap","downloadFile","href","filename","link","document","createElement","download","body","appendChild","click","removeChild","downloadFetch","jsonparams","submitParams","JSON","stringify","meta","fetch","method","headers","then","response","ok","json","blob","Blob","type","window","URL","createObjectURL","catch","err","message","includes"],"sources":["/Users/keith/progs/React/ncei-normals-mapper/src/utilities/utils.js"],"sourcesContent":["import { elements, maxbbox } from '../utilities/constants';\n\n//const dateDiff = (date1, date2) => {\n//\tconst sdate = date1 instanceof Date ? date1 : new Date(date1);\n//\tconst edate = date2 instanceof Date ? date2 : new Date(date2);\n//\tconst one_day = 1000 * 60 * 60 * 24;\n//\treturn (Math.round((edate.getTime() - sdate.getTime()) / one_day));\n//};\n\n// check bounding box \nconst checkBbox = bbox => {\n\tconst newbbox = [...bbox]\n\tif (bbox[0] < maxbbox.west) {\n\t\tnewbbox[0] = maxbbox.west;\n\t}\n\tif (bbox[1] < maxbbox.south) {\n\t\tnewbbox[1] = maxbbox.south;\n\t}\n\tif (bbox[2] > maxbbox.east) {\n\t\tnewbbox[2] = maxbbox.east;\n\t}\n\tif (bbox[3] > maxbbox.north) {\n\t\tnewbbox[3] = maxbbox.north;\n\t}\n\treturn newbbox;\n};\n\n// check point \nconst checkLoc = loc => {\n\tconst newloc = [...loc]\n\tif (loc[0] < maxbbox.west) {\n\t\tnewloc[0] = maxbbox.west;\n\t}\n\tif (loc[1] < maxbbox.south) {\n\t\tnewloc[1] = maxbbox.south;\n\t}\n\tif (loc[0] > maxbbox.east) {\n\t\tnewloc[0] = maxbbox.east;\n\t}\n\tif (loc[1] > maxbbox.north) {\n\t\tnewloc[1] = maxbbox.north;\n\t}\n\treturn newloc;\n};\n\nconst buildParams = (input_params) => {\n\tlet paramsToSubmit = {grid: input_params.grid, output: input_params.output};\n\t//console.log(input_params) // for debugging\n\n\t// For \"interval\" date selection, calculate duration based on sdate and edate. \n\tconst mndiff = parseInt(input_params.edate.split(\"-\")[1]) - parseInt(input_params.sdate.split(\"-\")[1]);\n\tconst duration = mndiff + (mndiff >= 0 ? 1 : 13);\n\n\t// Set up nested elements\n\tconst origElem = input_params.elems[0];\n\tconst newElems = [\n\t\t{\n\t\t\telem: origElem, \n\t\t\tinterval: [0,1], \n\t\t\tduration: duration, \n\t\t\treduce: origElem.reduce\n\t\t}\n\t];\n\n\t// Replicate nested elems for all variables, if requested for a single grid point\n\tif (origElem.name === 'all') {\n\t\tlet nestedElem = {...newElems[0].elem, name: 'maxt', reduce: elements[0].reduce};\n\t\tnewElems[0] = {...newElems[0], elem:nestedElem, reduce: elements[0].reduce};\n\t\t['mint','avgt','pcpn'].forEach((elem,i) => {\n\t\t\tnestedElem = {...newElems[0].elem, name: elem, reduce: elements[i+1].reduce};\n\t\t\tnewElems.push({...newElems[0], elem: nestedElem, reduce: elements[i+1].reduce});\n\t\t});\n\t}\n\n\t// Add actual elems as modified above to paramenters object\n\tparamsToSubmit.elems = newElems;\n\n\t// send just date instead of sdate and edate.\n\tconst newDate = input_params.elems[0].interval.length === 2 ? input_params.edate.slice(0, 7) : input_params.edate;\n\tparamsToSubmit.date = newDate;\n\n\t// areaDef is type (state, loc, bbox) and value of area of interest.\n\tif (input_params.areaDef.bbox) {\n\t\tinput_params.areaDef.bbox = input_params.areaDef.bbox.map(x => parseFloat(x))\n\t\tconst newbbox = checkBbox(input_params.areaDef.bbox);\n\t\tparamsToSubmit = {...paramsToSubmit, bbox: newbbox};\n\t\t//console.log(input_params.areaDef.bbox)\n\t} else if (input_params.areaDef.loc) {\n\t\tinput_params.areaDef.loc = input_params.areaDef.loc.map(x => parseFloat(x))\n\t\tconst newloc = checkLoc(input_params.areaDef.loc);\n\t\tparamsToSubmit = {...paramsToSubmit, loc: newloc};\n\t} else if (input_params.areaDef.state) {\n\t\tparamsToSubmit = {...paramsToSubmit, ...input_params.areaDef};\n\t} else {\n\t\tconsole.log(\"unknown areaDef\");\n\t}\n\t\n\t// point location can only be json\n\tif (paramsToSubmit.loc) {\n\t\tparamsToSubmit = {...paramsToSubmit, output: \"json\"};\n\t}\n\n\t// added image object if png output\n\tif (paramsToSubmit.output === 'png') {\n\t\tlet newImage = {...input_params.image};\n\t\t// convert levels string (from Image Settings) to array\n\t\tif (input_params.image.levels && typeof input_params.image.levels === 'string') {\n\t\t\tconst splitLevels = input_params.image.levels.split(\",\");\n\t\t\tconst newLevels = splitLevels.map(x => parseFloat(x));\n\t\t\tnewImage = {...newImage, levels: newLevels};\n\t\t}\n\t\t// leave off empty levels element\n\t\tif (input_params.image.hasOwnProperty('levels') && (input_params.image.levels === \"\" || input_params.image.levels.length === 0)) {\n\t\t\tdelete newImage.levels;\n\t\t\tdelete newImage.cmap;\n\t\t}\n\t\tif (input_params.image.hasOwnProperty('cmap') && input_params.image.cmap.length === 0) {\n\t\t\tdelete newImage.cmap;\n\t\t}\n\n\t\tparamsToSubmit = {...paramsToSubmit, image: newImage};\n\t}\n\n\treturn paramsToSubmit;\t\n};\n\n// download a retrieved png image\nconst downloadFile = (href, filename) => {\n\tconst link = document.createElement('a');\n\tlink.href = href;\n\tlink.download = filename;\n\tdocument.body.appendChild(link);\n\tlink.click();\n\tdocument.body.removeChild(link);\n};\n\n// retrieve and download a geotiff or json file\nconst downloadFetch = (jsonparams, filename, output) => {\n\tif (output === 'json') {\n\t\tdelete jsonparams.image;\n\t}\n\tconst submitParams = JSON.stringify({...jsonparams, output:output, meta:\"ll\"});\n\tfetch(\"https://grid2.rcc-acis.org/GridData\", {body: submitParams, method: \"POST\", headers: {'Content-Type': 'application/json'}})\n\t\t.then(response => {\n\t\t\tif (!response.ok) {\n\t\t\t\tconsole.log(\"Error fetching the results\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn output === 'json' ? response.json() : response.blob();\n\t\t})\n\t\t.then(response => {\n\t\t\tvar blob;\n\t\t\tif (output === 'json') {\n\t\t\t\tconst json = JSON.stringify(response);\n  \t\t\t\tblob = new Blob([json], {type:'application/json'});\n\t\t\t} else {\n\t\t\t\tblob = response;\n\t\t\t}\n\t\t\tconst href = window.URL.createObjectURL(blob);\n\t\t\tdownloadFile(href, filename)\n\t\t})\n\t\t.catch(err => {\n\t\t\tif (err.message.includes(\"Failed to execute 'createObjectURL' on 'URL'\")) {\n\t\t\t\tconsole.log(\"Invalid grid request - \"+jsonparams);\n\t\t\t} else {\n\t\t\t\tconsole.log(err.message);\n\t\t\t};\n\t\t});\n};\n\nexport { buildParams, checkBbox, downloadFile, downloadFetch };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}