{"ast":null,"code":"var _jsxFileName = \"/Users/keith/git/ncei-normals-mapper/src/components/LeafletMap.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Polygon, ImageOverlay, AttributionControl } from 'react-leaflet';\nimport { makeStyles } from '@mui/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  nav: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    padding: \"3px\"\n  },\n  mapContainer: {\n    border: \"1pt solid midnightblue\",\n    height: window.innerHeight * 0.6\n  },\n  rangeControl: {\n    color: \"midnightblue\",\n    paddingLeft: \"0.5em\"\n  }\n}));\nconst LeafletMap = props => {\n  _s();\n  const {\n    imgsrc,\n    dataBbox,\n    range\n  } = props;\n  const [bbox, setBbox] = useState();\n  const [imgcoords, setImgcoords] = useState();\n  const classes = useStyles();\n  useEffect(() => {\n    if (dataBbox) {\n      // setup bounding box (bounds)\n      setBbox([parseFloat(dataBbox[0][0]), parseFloat(dataBbox[0][1]), parseFloat(dataBbox[1][0]), parseFloat(dataBbox[1][1])]);\n      // convert bbox to Leaflet coordinates (rectangle around image)\n      setImgcoords([[dataBbox[1][1], dataBbox[0][0]], [dataBbox[1][1], dataBbox[1][0]], [dataBbox[0][1], dataBbox[1][0]], [dataBbox[0][1], dataBbox[0][0]]]);\n    }\n  }, [dataBbox]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.mapContainer,\n      children: bbox && /*#__PURE__*/_jsxDEV(MapContainer, {\n        bounds: [[bbox[1], bbox[0]], [bbox[3], bbox[2]]],\n        zoomControl: true,\n        scrollWheelZoom: true,\n        attributionControl: false,\n        children: [/*#__PURE__*/_jsxDEV(AttributionControl, {\n          position: \"bottomright\",\n          prefix: \"<a href='https://leafletjs.com'>Leaflet</a>\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(TileLayer, {\n          url: \"https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png\",\n          attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors \\xA9 <a href=\\\"https://carto.com/attributions\\\">CARTO</a>\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 7\n        }, this), imgcoords && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Polygon, {\n            pathOptions: {\n              color: \"lightgray\",\n              weight: 1,\n              fill: false\n            },\n            positions: imgcoords\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"leaflet-bottom leaflet-left\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: classes.rangeControl,\n              children: [\"Range: \", range[0].toFixed(2), \" to \", range[1].toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true), imgcoords && imgsrc && /*#__PURE__*/_jsxDEV(ImageOverlay, {\n          url: imgsrc,\n          bounds: imgcoords,\n          opacity: 0.8,\n          zIndex: 10\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n_s(LeafletMap, \"mwNSbZn/si1PbdLvacQ+gYMeXeY=\", false, function () {\n  return [useStyles];\n});\n_c = LeafletMap;\nexport default LeafletMap;\nvar _c;\n$RefreshReg$(_c, \"LeafletMap\");","map":{"version":3,"names":["React","useEffect","useState","MapContainer","TileLayer","Polygon","ImageOverlay","AttributionControl","makeStyles","jsxDEV","_jsxDEV","Fragment","_Fragment","useStyles","theme","nav","position","top","left","padding","mapContainer","border","height","window","innerHeight","rangeControl","color","paddingLeft","LeafletMap","props","_s","imgsrc","dataBbox","range","bbox","setBbox","imgcoords","setImgcoords","classes","parseFloat","children","className","bounds","zoomControl","scrollWheelZoom","attributionControl","prefix","fileName","_jsxFileName","lineNumber","columnNumber","url","attribution","pathOptions","weight","fill","positions","toFixed","opacity","zIndex","_c","$RefreshReg$"],"sources":["/Users/keith/git/ncei-normals-mapper/src/components/LeafletMap.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Polygon, ImageOverlay, AttributionControl } from 'react-leaflet';\nimport { makeStyles } from '@mui/styles';\n\nconst useStyles = makeStyles((theme) => ({\n\tnav: {\n\t\tposition: \"absolute\",\n\t\ttop: 0,\n\t\tleft: 0,\n\t\tpadding: \"3px\",\n\t},\n\tmapContainer: {\n\t\tborder: \"1pt solid midnightblue\",\n\t\theight: window.innerHeight * 0.6,\n\t},\n\trangeControl: {\n\t\tcolor: \"midnightblue\",\n\t\tpaddingLeft: \"0.5em\",\n\t},\n}));\n\nconst LeafletMap = (props) => {\n\tconst { imgsrc, dataBbox, range } = props;\n\tconst [ bbox, setBbox ] = useState();\n\tconst [ imgcoords, setImgcoords ] = useState();\n\tconst classes = useStyles();\n\n\tuseEffect(() => {\n\t\tif (dataBbox) {\n\t\t\t// setup bounding box (bounds)\n\t\t\tsetBbox([parseFloat(dataBbox[0][0]),parseFloat(dataBbox[0][1]),parseFloat(dataBbox[1][0]),parseFloat(dataBbox[1][1])]);\n\t\t\t// convert bbox to Leaflet coordinates (rectangle around image)\n\t\t\tsetImgcoords([ [dataBbox[1][1],dataBbox[0][0]], [dataBbox[1][1],dataBbox[1][0]], [dataBbox[0][1],dataBbox[1][0]], [dataBbox[0][1],dataBbox[0][0]] ]);\n\t\t}\n\t}, [dataBbox]);\n\n\n\treturn (\n\t\t<>\n\t\t\t<div className={classes.mapContainer}>\n\t\t\t\t{bbox && \n\t\t\t\t\t<MapContainer \n\t\t\t\t\t\tbounds={[[bbox[1], bbox[0]], [bbox[3], bbox[2]]]}\n\t\t\t\t\t\tzoomControl={true}\n\t\t\t\t\t\tscrollWheelZoom={true}\n\t\t\t\t\t\tattributionControl={false}\n\t\t\t\t\t>\n\t\t\t\t\t\t<AttributionControl position=\"bottomright\" prefix={\"<a href='https://leafletjs.com'>Leaflet</a>\"} />\n\n\t\t\t\t\t\t<TileLayer\n\t\t\t\t\t\t\turl='https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png'\n\t\t\t\t\t\t\tattribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>'\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{imgcoords &&\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Polygon \n\t\t\t\t\t\t\t\t\tpathOptions={{color:\"lightgray\", weight:1, fill:false}}\n\t\t\t\t\t\t\t\t\tpositions={imgcoords} \n\t\t\t\t\t\t\t\t/>\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\t<div className='leaflet-bottom leaflet-left'>\n\t\t\t\t\t\t\t\t\t<span className={classes.rangeControl}>Range: {range[0].toFixed(2)} to {range[1].toFixed(2)}</span>\n    \t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t{imgcoords && imgsrc &&\n\t\t\t\t\t\t\t<ImageOverlay\n\t\t\t\t\t\t\t\turl={imgsrc}\n\t\t\t\t\t\t\t\tbounds={imgcoords}\n\t\t\t\t\t\t\t\topacity={0.8}\n\t\t\t\t\t\t\t\tzIndex={10}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t</MapContainer>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default LeafletMap;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}