{"ast":null,"code":"import _slicedToArray from\"/Users/keith/git/ncei-normals-mapper/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import List from'@mui/material/List';import ListItem from'@mui/material/ListItem';import ListItemText from'@mui/material/ListItemText';import Menu from'@mui/material/Menu';import MenuItem from'@mui/material/MenuItem';import{makeStyles}from'@mui/styles';import InputParamsContext from'./InputParamsContext';import{regions}from'../utilities/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{listContainer:{border:\"1pt solid lightgray\",padding:0}};});var RegionSelect=function RegionSelect(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),anchorEl=_useState2[0],setAnchorEl=_useState2[1];var _useState3=useState(12),_useState4=_slicedToArray(_useState3,2),selectedIndex=_useState4[0],setSelectedIndex=_useState4[1];// default (ME,WV)\nvar inputContext=useContext(InputParamsContext);var classes=useStyles();var handleClickListItem=function handleClickListItem(event){setAnchorEl(event.currentTarget);};var handleMenuItemClick=function handleMenuItemClick(event,index){setSelectedIndex(index);setAnchorEl(null);inputContext.updateInputParams({areaDef:{state:regions[index].states.replaceAll('-',',')}});};var handleClose=function handleClose(){setAnchorEl(null);};useEffect(function(){inputContext.updateInputParams({areaDef:{state:regions[selectedIndex].states.replaceAll('-',',')}});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(List,{className:classes.listContainer,\"aria-label\":\"Region selection\",children:/*#__PURE__*/_jsx(ListItem,{button:true,\"aria-haspopup\":\"true\",\"aria-controls\":\"reguib-menu\",\"aria-label\":\"selected region\",onClick:handleClickListItem,children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Click to select region\",secondary:\"Currently selected: \"+regions[selectedIndex].name})})}),/*#__PURE__*/_jsx(Menu,{id:\"element-menu\",anchorEl:anchorEl,keepMounted:true,open:Boolean(anchorEl),onClose:handleClose,children:regions.map(function(option,index){return/*#__PURE__*/_jsx(MenuItem,{selected:index===selectedIndex,disabled:option.states<0,onClick:function onClick(event){return handleMenuItemClick(event,index);},children:option.name},index);})})]});};export default RegionSelect;","map":{"version":3,"names":["React","useContext","useEffect","useState","List","ListItem","ListItemText","Menu","MenuItem","makeStyles","InputParamsContext","regions","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","useStyles","theme","listContainer","border","padding","RegionSelect","_useState","_useState2","_slicedToArray","anchorEl","setAnchorEl","_useState3","_useState4","selectedIndex","setSelectedIndex","inputContext","classes","handleClickListItem","event","currentTarget","handleMenuItemClick","index","updateInputParams","areaDef","state","states","replaceAll","handleClose","children","className","button","onClick","primary","secondary","name","id","keepMounted","open","Boolean","onClose","map","option","selected","disabled"],"sources":["/Users/keith/git/ncei-normals-mapper/src/components/RegionSelect.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport { makeStyles } from '@mui/styles';\nimport InputParamsContext from './InputParamsContext';\nimport { regions } from '../utilities/constants';\n\nconst useStyles = makeStyles((theme) => ({\n\tlistContainer: {\n\t\tborder: \"1pt solid lightgray\",\n\t\tpadding: 0,\n\t},\n}));\n\nconst RegionSelect = () => {\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [selectedIndex, setSelectedIndex] = useState(12);  // default (ME,WV)\n\tconst inputContext = useContext(InputParamsContext);\n\tconst classes = useStyles();\n\n\tconst handleClickListItem = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\n\tconst handleMenuItemClick = (event, index) => {\n\t\tsetSelectedIndex(index);\n\t\tsetAnchorEl(null);\n\t\tinputContext.updateInputParams({areaDef: {state:regions[index].states.replaceAll('-',',')}});\n\t};\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tuseEffect(() => {\n\t\tinputContext.updateInputParams({areaDef: {state:regions[selectedIndex].states.replaceAll('-',',')}});\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<List className={classes.listContainer} aria-label=\"Region selection\">\n\t\t\t\t<ListItem\n\t\t\t\t\tbutton\n\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\taria-controls=\"reguib-menu\"\n\t\t\t\t\taria-label=\"selected region\"\n\t\t\t\t\tonClick={handleClickListItem}\n\t\t\t\t>\n\t\t\t\t\t<ListItemText primary=\"Click to select region\" secondary={\"Currently selected: \"+regions[selectedIndex].name} />\n\t\t\t\t</ListItem>\n\t\t\t</List>\n\t\t\t<Menu\n\t\t\t\tid=\"element-menu\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tkeepMounted\n\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\tonClose={handleClose} \n\t\t\t>\n\t\t\t\t{regions.map((option, index) => (\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tselected={index === selectedIndex}\n\t\t\t\t\t\tdisabled={option.states < 0}\n\t\t\t\t\t\tonClick={(event) => handleMenuItemClick(event, index)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{option.name}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t))}\n\t\t\t</Menu>\n\t\t</>\n\t);\n}\n\nexport default RegionSelect;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}