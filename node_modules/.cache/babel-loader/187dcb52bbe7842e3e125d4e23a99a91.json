{"ast":null,"code":"import _slicedToArray from\"/Users/kle1/progs/React/ncei-normals-mapper/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useContext,useEffect,useState}from'react';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemText from'@material-ui/core/ListItemText';import Menu from'@material-ui/core/Menu';import MenuItem from'@material-ui/core/MenuItem';import{makeStyles}from'@material-ui/core/styles';import InputParamsContext from'./InputParamsContext';import{seasons}from'../utilities/constants';var useStyles=makeStyles(function(theme){return{listContainer:{border:\"1pt solid lightgray\",padding:0}};});var SeasonSelect=function SeasonSelect(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),anchorEl=_useState2[0],setAnchorEl=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),selectedIndex=_useState4[0],setSelectedIndex=_useState4[1];var inputContext=useContext(InputParamsContext);var classes=useStyles();var handleClickListItem=function handleClickListItem(event){setAnchorEl(event.currentTarget);};var handleMenuItemClick=function handleMenuItemClick(event,index){setSelectedIndex(index);setAnchorEl(null);inputContext.updateInputParams({sdate:\"1991-\"+seasons[index][1],edate:\"1991-\"+seasons[index][2]});};var handleClose=function handleClose(){setAnchorEl(null);};useEffect(function(){inputContext.updateInputParams({sdate:\"1991-\"+seasons[selectedIndex][1],edate:\"1991-\"+seasons[selectedIndex][2]});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(List,{className:classes.listContainer,\"aria-label\":\"Season selection\",children:/*#__PURE__*/_jsx(ListItem,{button:true,\"aria-haspopup\":\"true\",\"aria-controls\":\"season-menu\",\"aria-label\":\"selected season\",onClick:handleClickListItem,children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Click to select season\",secondary:\"Currently selected: \"+seasons[selectedIndex][0]})})}),/*#__PURE__*/_jsx(Menu,{id:\"season-menu\",anchorEl:anchorEl,keepMounted:true,open:Boolean(anchorEl),onClose:handleClose,children:seasons.map(function(option,index){return/*#__PURE__*/_jsx(MenuItem,{selected:index===selectedIndex,onClick:function onClick(event){return handleMenuItemClick(event,index);},children:option[0]},index);})})]});};export default SeasonSelect;","map":{"version":3,"sources":["/Users/kle1/progs/React/ncei-normals-mapper/src/components/SeasonSelect.js"],"names":["React","useContext","useEffect","useState","List","ListItem","ListItemText","Menu","MenuItem","makeStyles","InputParamsContext","seasons","useStyles","theme","listContainer","border","padding","SeasonSelect","anchorEl","setAnchorEl","selectedIndex","setSelectedIndex","inputContext","classes","handleClickListItem","event","currentTarget","handleMenuItemClick","index","updateInputParams","sdate","edate","handleClose","Boolean","map","option"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputParamsContext from './InputParamsContext';\nimport { seasons } from '../utilities/constants';\n\nconst useStyles = makeStyles((theme) => ({\n\tlistContainer: {\n\t\tborder: \"1pt solid lightgray\",\n\t\tpadding: 0,\n\t},\n}));\n\nconst SeasonSelect = () => {\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [selectedIndex, setSelectedIndex] = useState(0);\n\tconst inputContext = useContext(InputParamsContext);\n\tconst classes = useStyles();\n\n\tconst handleClickListItem = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\n\tconst handleMenuItemClick = (event, index) => {\n\t\tsetSelectedIndex(index);\n\t\tsetAnchorEl(null);\n\t\tinputContext.updateInputParams({sdate:\"1991-\"+seasons[index][1], edate:\"1991-\"+seasons[index][2]});\n\t};\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tuseEffect(() => {\n\t\tinputContext.updateInputParams({sdate:\"1991-\"+seasons[selectedIndex][1], edate:\"1991-\"+seasons[selectedIndex][2]});\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t<List className={classes.listContainer} aria-label=\"Season selection\">\n\t\t\t\t<ListItem\n\t\t\t\t\tbutton\n\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\taria-controls=\"season-menu\"\n\t\t\t\t\taria-label=\"selected season\"\n\t\t\t\t\tonClick={handleClickListItem}\n\t\t\t\t>\n\t\t\t\t\t<ListItemText primary=\"Click to select season\" secondary={\"Currently selected: \"+seasons[selectedIndex][0]} />\n\t\t\t\t</ListItem>\n\t\t\t</List>\n\t\t\t<Menu\n\t\t\t\tid=\"season-menu\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tkeepMounted\n\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\tonClose={handleClose} \n\t\t\t>\n\t\t\t\t{seasons.map((option, index) => (\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tselected={index === selectedIndex}\n\t\t\t\t\t\tonClick={(event) => handleMenuItemClick(event, index)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{option[0]}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t))}\n\t\t\t</Menu>\n\t\t</div>\n\t);\n}\n\nexport default SeasonSelect;"]},"metadata":{},"sourceType":"module"}