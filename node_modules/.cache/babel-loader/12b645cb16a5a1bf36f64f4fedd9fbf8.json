{"ast":null,"code":"import _objectSpread from\"/Users/kle1/progs/React/normals-viewer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/kle1/progs/React/normals-viewer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useEffect,useRef,useState,useContext}from'react';import{makeStyles}from'@material-ui/core/styles';import MapGL,{NavigationControl,WebMercatorViewport}from'react-map-gl';import mapboxgl from'mapbox-gl';import'mapbox-gl/dist/mapbox-gl.css';import InputParamsContext from'./InputParamsContext';import{multiStateBbox}from'../utilities/utils';// fix based on https://github.com/mapbox/mapbox-gl-js/issues/10173\n// eslint-disable-next-line import/no-webpack-loader-syntax\nmapboxgl.workerClass=require('worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker').default;var useStyles=makeStyles(function(theme){return{nav:{position:\"absolute\",top:0,left:0,padding:\"3px\"},mapglContainer:{border:\"1pt solid midnightblue\"}};});var MapboxMap=function MapboxMap(props){var imgsrc=props.imgsrc;var _useState=useState(),_useState2=_slicedToArray(_useState,2),bbox=_useState2[0],setBbox=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),imgcoords=_useState4[0],setImgcoords=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),resultsError=_useState6[0],setResultsError=_useState6[1];var _useState7=useState({width:\"100%\",height:window.innerHeight*0.6,zoom:0,transitionDuration:500}),_useState8=_slicedToArray(_useState7,2),viewport=_useState8[0],setViewPort=_useState8[1];var inputContext=useContext(InputParamsContext);var classes=useStyles();var mapRef=useRef();var token=\"pk.eyJ1Ijoia2xlMSIsImEiOiJjank0b2dmd2swMm02M2NvMGNnY3c4aWNnIn0.GfryAbDLVsqX9Ir24eWlGQ\";var mapStyle=function mapStyle(imgsrc,imgcoords){return{version:8,sources:{mapbox:{type:'vector',url:'mapbox://mapbox.mapbox-streets-v8'},overlay:{type:'image',url:imgsrc,coordinates:imgcoords}},layers:[{id:'water',source:'mapbox','source-layer':'water',type:'fill',paint:{'fill-color':'#2c2c2c'}},{id:'boundaries',source:'mapbox','source-layer':'admin',type:'line'},{id:'imgLayer',source:'overlay',type:'raster',paint:{'raster-opacity':0.90}}]};};var fetchBbox=function fetchBbox(postals){var jsonparams=JSON.stringify({state:postals,meta:\"bbox\"});fetch(\"https://data.rcc-acis.org/General/state\",{body:jsonparams,method:\"POST\",headers:{'Content-Type':'application/json'}}).then(function(response){if(!response.ok){setResultsError(\"Error\");}return response.json();}).then(function(response){if(response.meta&&response.meta.length){var _bbox=multiStateBbox(response.meta);setBbox(_bbox);}else{setResultsError(\"No bbox for \"+postals);}}).catch(function(err){if(err.message.includes(\"Failed to execute 'createObjectURL' on 'URL'\")){setResultsError(\"Invalid request\");}else{setResultsError(err.message);};});};var handleViewportChange=function handleViewportChange(viewport){return setViewPort(_objectSpread({},viewport));};useEffect(function(){if(inputContext.inputParams.areaDef.bbox){var _bbox2=inputContext.inputParams.areaDef.bbox;setBbox([parseFloat(_bbox2[0]),parseFloat(_bbox2[1]),parseFloat(_bbox2[2]),parseFloat(_bbox2[3])]);}else{var postals=inputContext.inputParams.areaDef.state;fetchBbox(postals);}},[inputContext.inputParams.areaDef]);useEffect(function(){if(bbox){// convert bbox to mapbox coordinates\nsetImgcoords([[bbox[0],bbox[3]],[bbox[2],bbox[3]],[bbox[2],bbox[1]],[bbox[0],bbox[1]]]);// fit image in mapbox box\nvar cid=document.getElementById('mapContainer');var cwidth=cid.parentElement.clientWidth;var cheight=window.innerHeight*0.6;// Use WebMercatorViewport to get center longitude/latitude and zoom\nvar wmviewport=new WebMercatorViewport({width:cwidth,height:cheight}).fitBounds([[bbox[0],bbox[1]],[bbox[2],bbox[3]]],{padding:20});var longitude=wmviewport.longitude,latitude=wmviewport.latitude,zoom=wmviewport.zoom;setViewPort(_objectSpread(_objectSpread({},viewport),{},{longitude:longitude,latitude:latitude,zoom:zoom,height:cheight}));}// eslint-disable-next-line \n},[bbox]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:classes.mapglContainer,children:viewport.zoom>0&&/*#__PURE__*/_jsx(MapGL,_objectSpread(_objectSpread({ref:mapRef},viewport),{},{mapboxApiAccessToken:token,mapStyle:mapStyle(imgsrc,imgcoords),onViewportChange:handleViewportChange,children:/*#__PURE__*/_jsx(\"div\",{className:classes.nav,children:/*#__PURE__*/_jsx(NavigationControl,{showCompass:false})})}))}),resultsError&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",resultsError]})]});};export default MapboxMap;","map":{"version":3,"sources":["/Users/kle1/progs/React/normals-viewer/src/components/MapboxMap.js"],"names":["React","useEffect","useRef","useState","useContext","makeStyles","MapGL","NavigationControl","WebMercatorViewport","mapboxgl","InputParamsContext","multiStateBbox","workerClass","require","default","useStyles","theme","nav","position","top","left","padding","mapglContainer","border","MapboxMap","props","imgsrc","bbox","setBbox","imgcoords","setImgcoords","resultsError","setResultsError","width","height","window","innerHeight","zoom","transitionDuration","viewport","setViewPort","inputContext","classes","mapRef","token","mapStyle","version","sources","mapbox","type","url","overlay","coordinates","layers","id","source","paint","fetchBbox","postals","jsonparams","JSON","stringify","state","meta","fetch","body","method","headers","then","response","ok","json","length","catch","err","message","includes","handleViewportChange","inputParams","areaDef","parseFloat","cid","document","getElementById","cwidth","parentElement","clientWidth","cheight","wmviewport","fitBounds","longitude","latitude"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState, useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MapGL, { NavigationControl, WebMercatorViewport } from 'react-map-gl';\nimport mapboxgl from 'mapbox-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport InputParamsContext from './InputParamsContext';\nimport { multiStateBbox } from '../utilities/utils';\n\n// fix based on https://github.com/mapbox/mapbox-gl-js/issues/10173\n// eslint-disable-next-line import/no-webpack-loader-syntax\nmapboxgl.workerClass = require('worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker').default;\n\nconst useStyles = makeStyles((theme) => ({\n\tnav: {\n\t\tposition: \"absolute\",\n\t\ttop: 0,\n\t\tleft: 0,\n\t\tpadding: \"3px\",\n\t},\n\tmapglContainer: {\n\t\tborder: \"1pt solid midnightblue\",\n\t},\n}));\n\nconst MapboxMap = (props) => {\n\tconst { imgsrc } = props;\n\tconst [ bbox, setBbox ] = useState();\n\tconst [ imgcoords, setImgcoords ] = useState();\n\tconst [ resultsError, setResultsError ] = useState();\n\tconst [viewport, setViewPort ] = useState({\n\t\twidth: \"100%\",\n\t\theight: window.innerHeight * 0.6,\n\t\tzoom: 0,\n\t\ttransitionDuration: 500\n  \t});\n\tconst inputContext = useContext(InputParamsContext);\n\tconst classes = useStyles();\n\tconst mapRef = useRef();\n\n\tconst token = \"pk.eyJ1Ijoia2xlMSIsImEiOiJjank0b2dmd2swMm02M2NvMGNnY3c4aWNnIn0.GfryAbDLVsqX9Ir24eWlGQ\";\n\n\tconst mapStyle = (imgsrc,imgcoords) => {\n\t\treturn ({\n\t\t\tversion: 8,\n\t\t\tsources: {\n\t\t\t\tmapbox: {\n\t\t\t\t\ttype: 'vector',\n\t\t\t\t\turl: 'mapbox://mapbox.mapbox-streets-v8',\n\t\t\t\t},\n\t\t\t\toverlay: {\n\t\t\t\t\ttype: 'image',\n\t\t\t\t\turl: imgsrc,\n\t\t\t\t\tcoordinates: imgcoords,\n\t\t\t\t}\n\t\t\t},\n\t\t\tlayers: [\n\t\t\t\t{\n\t\t\t\t\tid: 'water',\n\t\t\t\t\tsource: 'mapbox',\n\t\t\t\t\t'source-layer': 'water',\n\t\t\t\t\ttype: 'fill',\n\t\t\t\t\tpaint: { 'fill-color': '#2c2c2c' }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'boundaries',\n\t\t\t\t\tsource: 'mapbox',\n\t\t\t\t\t'source-layer': 'admin',\n\t\t\t\t\ttype: 'line',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'imgLayer',\n\t\t\t\t\tsource: 'overlay',\n\t\t\t\t\ttype: 'raster',\n\t\t\t\t\tpaint: { 'raster-opacity': 0.90 }\n\n\t\t\t\t}\n\t\t\t]\n\t\t})\n\t}; \n\n\tconst fetchBbox = postals => {\n\t\tconst jsonparams = JSON.stringify({state: postals, meta: \"bbox\"});\n\t\tfetch(\"https://data.rcc-acis.org/General/state\", {body: jsonparams, method: \"POST\", headers: {'Content-Type': 'application/json'}})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tsetResultsError(\"Error\");\n\t\t\t\t}\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (response.meta && response.meta.length) {\n\t\t\t\t\tconst bbox = multiStateBbox(response.meta);\n\t\t\t\t\tsetBbox(bbox);\n\t\t\t\t} else {\n\t\t\t\t\tsetResultsError(\"No bbox for \"+postals);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tif (err.message.includes(\"Failed to execute 'createObjectURL' on 'URL'\")) {\n\t\t\t\t\tsetResultsError(\"Invalid request\");\n\t\t\t\t} else {\n\t\t\t\t\tsetResultsError(err.message);\n\t\t\t\t};\n\t\t\t})\n\t};\n\n\tconst handleViewportChange = viewport => setViewPort({...viewport });\n\n\tuseEffect(() => {\n\t\tif (inputContext.inputParams.areaDef.bbox) {\n\t\t\tconst bbox = inputContext.inputParams.areaDef.bbox;\n\t\t\tsetBbox([parseFloat(bbox[0]),parseFloat(bbox[1]),parseFloat(bbox[2]),parseFloat(bbox[3])]);\n\t\t} else {\n\t\t\tconst postals = inputContext.inputParams.areaDef.state;\n\t\t\tfetchBbox(postals);\n\t\t}\n\t}, [inputContext.inputParams.areaDef]);\n\n\tuseEffect(() => {\n\t\tif (bbox) {\n\t\t\t// convert bbox to mapbox coordinates\n\t\t\tsetImgcoords([ [bbox[0],bbox[3]], [bbox[2],bbox[3]], [bbox[2],bbox[1]], [bbox[0],bbox[1]] ]);\n\t\t\t// fit image in mapbox box\n\t\t\tconst cid = document.getElementById('mapContainer');\n\t\t\tconst cwidth = cid.parentElement.clientWidth;\n\t\t\tconst cheight = window.innerHeight * 0.6;\n\t\t\t// Use WebMercatorViewport to get center longitude/latitude and zoom\n\t\t\tconst wmviewport = new WebMercatorViewport({ width: cwidth, height: cheight})\n\t\t\t\t.fitBounds([[bbox[0],bbox[1]], [bbox[2],bbox[3]]], {padding:20})\n\t\t\tconst { longitude, latitude, zoom } = wmviewport;\n\t\t\tsetViewPort({...viewport, longitude, latitude, zoom, height:cheight});\n\t\t}\n\t\t// eslint-disable-next-line \n\t}, [bbox]);\n\n\n\treturn (\n\t\t<>\n\t\t\t<div className={classes.mapglContainer}>\n\t\t\t\t{viewport.zoom > 0 &&\n\t\t\t\t\t<MapGL\n\t\t\t\t\t\tref={mapRef}\n\t\t\t\t\t\t{...viewport}\n\t\t\t\t\t\tmapboxApiAccessToken={token}\n\t\t\t\t\t\tmapStyle={mapStyle(imgsrc, imgcoords)}\n\t\t\t\t\t\tonViewportChange={handleViewportChange}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className={classes.nav}>\n\t\t\t\t\t\t\t<NavigationControl showCompass={false} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</MapGL>\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t{resultsError &&\n\t\t\t\t<p>Error: {resultsError}</p>\n\t\t\t}\n\t\t</>\n\t);\n}\n\nexport default MapboxMap;"]},"metadata":{},"sourceType":"module"}