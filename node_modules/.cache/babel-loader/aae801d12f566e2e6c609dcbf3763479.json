{"ast":null,"code":"import _slicedToArray from\"/Users/kle1/progs/React/ncei-normals-mapper/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useEffect,useRef,useState}from\"react\";import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableRow from'@material-ui/core/TableRow';import{makeStyles}from'@material-ui/core/styles';var useStyles=makeStyles(function(theme){return{keyContainer:{marginTop:\"1em\"}};});var MapLegend=function MapLegend(props){var imgInfo=props.imgInfo;var levels=imgInfo.levels,cmap=imgInfo.cmap;var _useState=useState(),_useState2=_slicedToArray(_useState,2),width=_useState2[0],setWidth=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),eachWidth=_useState4[0],setEachWidth=_useState4[1];var ref=useRef(null);var classes=useStyles();var color_styles=[];color_styles=cmap.map(function(color){return{height:\"28px\",backgroundColor:color,opacity:\"0.8\"};});useEffect(function(){if(ref){var elemWidth=ref.current.offsetWidth;var defaultWidth=cmap.length*56;setWidth(Math.min(defaultWidth,elemWidth));setEachWidth(Math.min(defaultWidth,elemWidth)/cmap.length);}},[cmap.length]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TableContainer,{className:classes.keyContainer,ref:ref,children:width&&/*#__PURE__*/_jsx(Table,{size:\"small\",padding:\"none\",style:{width:width},\"aria-label\":\"color table\",children:/*#__PURE__*/_jsx(TableBody,{children:/*#__PURE__*/_jsx(TableRow,{children:color_styles.map(function(cs,i){return/*#__PURE__*/_jsx(TableCell,{style:cs},i);})})})})}),/*#__PURE__*/_jsx(TableContainer,{children:width&&/*#__PURE__*/_jsx(Table,{size:\"small\",padding:\"none\",style:{width:width},\"aria-label\":\"color table\",children:/*#__PURE__*/_jsx(TableBody,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{width:eachWidth/2}}),levels.map(function(lv,i){return/*#__PURE__*/_jsx(TableCell,{align:\"center\",style:{width:eachWidth},children:lv},i);}),/*#__PURE__*/_jsx(TableCell,{style:{width:eachWidth/2}})]})})})})]});};export default MapLegend;/* vertical color bar\n\t\t<TableContainer>\n\t\t\t<Table size=\"small\" padding=\"none\" className={classes.table} aria-label=\"color table\">\n\t\t\t\t<TableBody>\n\t\t\t\t\t<TableRow key=\"first\">\n\t\t\t\t\t\t<TableCell style={color_styles[0]}></TableCell>\n\t\t\t\t\t\t<TableCell align=\"center\" className={classes.range}>&lt;{levels[0]}</TableCell> \n\t\t\t\t\t</TableRow>\n\t\t\t\t\t{levels.map((lvl, i) => (\n\t\t\t\t\t\t<TableRow key={i}>\n\t\t\t\t\t\t\t<TableCell style={color_styles[i+1]}></TableCell>\n\t\t\t\t\t\t\t{levels[i+1] ?\n\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.range}>{levels[i]} to {levels[i+1]}</TableCell>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.range}>&ge;{levels[i]}</TableCell>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t))}\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n*/","map":{"version":3,"sources":["/Users/kle1/progs/React/ncei-normals-mapper/src/components/MapLegend.js"],"names":["React","useEffect","useRef","useState","Table","TableBody","TableCell","TableContainer","TableRow","makeStyles","useStyles","theme","keyContainer","marginTop","MapLegend","props","imgInfo","levels","cmap","width","setWidth","eachWidth","setEachWidth","ref","classes","color_styles","map","color","height","backgroundColor","opacity","elemWidth","current","offsetWidth","defaultWidth","length","Math","min","cs","i","lv"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n\tkeyContainer: {\n\t\tmarginTop: \"1em\",\n\t},\n}));\n\nconst MapLegend = (props) => {\n\tconst { imgInfo } = props;\n\tconst { levels, cmap } = imgInfo;\n\tconst [ width, setWidth ] = useState();\n\tconst [ eachWidth, setEachWidth ] = useState();\n\tconst ref = useRef(null);\n\tconst classes = useStyles();\n\n\tlet color_styles = [];\n\tcolor_styles = cmap.map((color) => { return {height: \"28px\", backgroundColor: color, opacity: \"0.8\"}} )\n\n\tuseEffect(() => {\n\t\tif (ref) {\n\t\t\tconst elemWidth = ref.current.offsetWidth;\n\t\t\tconst defaultWidth = cmap.length * 56;\n\t\t\tsetWidth(Math.min(defaultWidth, elemWidth));\n\t\t\tsetEachWidth(Math.min(defaultWidth, elemWidth)/cmap.length);\n\t\t}\n\t},[cmap.length]);\n\n\treturn (\n\t\t<>\n\t\t\t<TableContainer className={classes.keyContainer} ref={ref}>\n\t\t\t\t{width &&\n\t\t\t\t\t<Table size=\"small\" padding=\"none\" style={{width:width}} aria-label=\"color table\">\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t{color_styles.map((cs, i) => (\n\t\t\t\t\t\t\t\t\t<TableCell key={i} style={cs}></TableCell>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</TableRow>\t\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t}\n\t\t\t</TableContainer>\n\n\t\t\t<TableContainer>\n\t\t\t\t{width &&\n\t\t\t\t\t<Table size=\"small\" padding=\"none\" style={{width:width}} aria-label=\"color table\">\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell style={{width:eachWidth/2}}></TableCell>\n\t\t\t\t\t\t\t\t{levels.map((lv, i) => (\n\t\t\t\t\t\t\t\t\t<TableCell key={i}align=\"center\" style={{width:eachWidth}}>{lv}</TableCell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t<TableCell style={{width:eachWidth/2}}></TableCell>\n\t\t\t\t\t\t\t</TableRow>\t\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t}\n\t\t\t</TableContainer>\n\t\t</>\n\t);\n}\n\nexport default MapLegend;\n\n/* vertical color bar\n\t\t<TableContainer>\n\t\t\t<Table size=\"small\" padding=\"none\" className={classes.table} aria-label=\"color table\">\n\t\t\t\t<TableBody>\n\t\t\t\t\t<TableRow key=\"first\">\n\t\t\t\t\t\t<TableCell style={color_styles[0]}></TableCell>\n\t\t\t\t\t\t<TableCell align=\"center\" className={classes.range}>&lt;{levels[0]}</TableCell> \n\t\t\t\t\t</TableRow>\n\t\t\t\t\t{levels.map((lvl, i) => (\n\t\t\t\t\t\t<TableRow key={i}>\n\t\t\t\t\t\t\t<TableCell style={color_styles[i+1]}></TableCell>\n\t\t\t\t\t\t\t{levels[i+1] ?\n\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.range}>{levels[i]} to {levels[i+1]}</TableCell>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={classes.range}>&ge;{levels[i]}</TableCell>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t))}\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n*/"]},"metadata":{},"sourceType":"module"}