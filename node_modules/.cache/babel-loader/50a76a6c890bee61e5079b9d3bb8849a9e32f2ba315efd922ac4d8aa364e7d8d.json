{"ast":null,"code":"import _slicedToArray from\"/Users/keith/progs/React/ncei-normals-mapper/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Button from'@mui/material/Button';import{makeStyles}from'@mui/styles';import DisplayRequest from'./DisplayRequest';import{downloadFile,downloadFetch}from'../utilities/utils';import LeafletMap from'./LeafletMap';import MapTitle from'./MapTitle';import MapLegend from'./MapLegend';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{downloadButton:{margin:\"0 0.4em\"},mapImage:{width:\"100%\"},mapTitleContainer:{borderLeft:\"1pt solid midnightblue\",borderRight:\"1pt solid midnightblue\",borderBottom:\"1pt solid midnightblue\",padding:\"0.5em\",marginBottom:\"1em\"}};});var DisplayMap=function DisplayMap(props){var imgsrc=props.imgsrc,submittedParams=props.submittedParams,imgInfo=props.imgInfo,inputParams=props.inputParams,levels=props.levels,updateLevels=props.updateLevels,updateColors=props.updateColors;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showParams=_useState2[0],setShowParams=_useState2[1];var classes=useStyles();var handleDownPngClick=function handleDownPngClick(){downloadFile(imgsrc,'normalsImage.png');};var handleDownTifClick=function handleDownTifClick(){downloadFetch(submittedParams,'normalsGeo.tif','geotiff');};var handleDownJsonClick=function handleDownJsonClick(){downloadFetch(submittedParams,'normalsData.json','json');};var handleShowParamsClick=function handleShowParamsClick(){setShowParams(function(prev){return!prev;});};return/*#__PURE__*/_jsxs(\"div\",{id:\"mapContainer\",children:[/*#__PURE__*/_jsx(LeafletMap,{imgsrc:imgsrc,dataBbox:imgInfo?imgInfo.data_bbox:null,range:imgInfo?imgInfo.range:null}),/*#__PURE__*/_jsxs(\"div\",{className:classes.mapTitleContainer,children:[/*#__PURE__*/_jsx(MapTitle,{submittedParams:submittedParams,inputParams:inputParams}),imgInfo&&/*#__PURE__*/_jsx(MapLegend,{imgInfo:imgInfo,propLevels:levels,updateLevels:updateLevels,updateColors:updateColors})]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",className:classes.downloadButton,onClick:handleDownPngClick,children:\"Download image (png)\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",className:classes.downloadButton,onClick:handleDownTifClick,children:\"Download image (geotiff)\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",className:classes.downloadButton,onClick:handleDownJsonClick,children:\"Download data (json)\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",className:classes.downloadButton,onClick:handleShowParamsClick,children:\"Display request (json)\"}),/*#__PURE__*/_jsx(\"br\",{}),showParams&&/*#__PURE__*/_jsx(DisplayRequest,{submittedParams:submittedParams})]});};export default DisplayMap;","map":{"version":3,"names":["React","useState","Button","makeStyles","DisplayRequest","downloadFile","downloadFetch","LeafletMap","MapTitle","MapLegend","jsx","_jsx","jsxs","_jsxs","useStyles","theme","downloadButton","margin","mapImage","width","mapTitleContainer","borderLeft","borderRight","borderBottom","padding","marginBottom","DisplayMap","props","imgsrc","submittedParams","imgInfo","inputParams","levels","updateLevels","updateColors","_useState","_useState2","_slicedToArray","showParams","setShowParams","classes","handleDownPngClick","handleDownTifClick","handleDownJsonClick","handleShowParamsClick","prev","id","children","dataBbox","data_bbox","range","className","propLevels","variant","size","onClick"],"sources":["/Users/keith/progs/React/ncei-normals-mapper/src/components/DisplayMap.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Button from '@mui/material/Button';\nimport { makeStyles } from '@mui/styles';\nimport DisplayRequest from './DisplayRequest';\nimport { downloadFile, downloadFetch } from '../utilities/utils';\nimport LeafletMap from './LeafletMap';\nimport MapTitle from './MapTitle';\nimport MapLegend from './MapLegend';\n\nconst useStyles = makeStyles((theme) => ({\n\tdownloadButton: {\n\t\tmargin: \"0 0.4em\",\n\t},\n\tmapImage: {\n\t\twidth: \"100%\",\n\t},\n\tmapTitleContainer: {\n\t\tborderLeft: \"1pt solid midnightblue\",\n\t\tborderRight: \"1pt solid midnightblue\",\n\t\tborderBottom: \"1pt solid midnightblue\",\n\t\tpadding: \"0.5em\",\n\t\tmarginBottom: \"1em\",\n\t},\n}));\n\nconst DisplayMap = (props) => {\n\tconst { imgsrc, submittedParams, imgInfo, inputParams, levels, updateLevels, updateColors } = props;\n\tconst [showParams, setShowParams] = useState(false);\n\tconst classes = useStyles();\n\n\tconst handleDownPngClick = () => {\n\t\tdownloadFile(imgsrc, 'normalsImage.png');\n\t};\n\n\tconst handleDownTifClick = () => {\n\t\tdownloadFetch(submittedParams, 'normalsGeo.tif', 'geotiff');\n\t}\n\n\tconst handleDownJsonClick = () => {\n\t\tdownloadFetch(submittedParams, 'normalsData.json', 'json');\n\t}\n\n\tconst handleShowParamsClick = () => {\n\t\tsetShowParams(prev => !prev);\n\t};\n\n\treturn (\n\t\t<div id=\"mapContainer\">\n\t\t\t<LeafletMap \n\t\t\t\timgsrc={imgsrc}\n\t\t\t\tdataBbox={imgInfo ? imgInfo.data_bbox : null}\n\t\t\t\trange={imgInfo ? imgInfo.range : null}\n\t\t\t/>\n\t\t\t<div className={classes.mapTitleContainer}>\n\t\t\t\t<MapTitle \n\t\t\t\t\tsubmittedParams={submittedParams}\n\t\t\t\t\tinputParams={inputParams}\n\t\t\t\t/>\n\t\t\t\t{imgInfo &&\n\t\t\t\t\t<MapLegend \n\t\t\t\t\t\timgInfo={imgInfo}\n\t\t\t\t\t\tpropLevels={levels}\n\t\t\t\t\t\tupdateLevels={updateLevels}\n\t\t\t\t\t\tupdateColors={updateColors}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleDownPngClick}>Download image (png)</Button>\n\t\t\t<Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleDownTifClick}>Download image (geotiff)</Button>\n\t\t\t<Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleDownJsonClick}>Download data (json)</Button>\n\t\t\t<Button variant=\"contained\" size=\"small\" className={classes.downloadButton} onClick={handleShowParamsClick}>Display request (json)</Button>\n\t\t\t<br />\n\t\t\t{showParams &&\n\t\t\t\t<DisplayRequest \n\t\t\t\t\tsubmittedParams={submittedParams}\n\t\t\t\t/>\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nexport default DisplayMap;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}