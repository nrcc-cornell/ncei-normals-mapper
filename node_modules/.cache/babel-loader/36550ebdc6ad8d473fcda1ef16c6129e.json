{"ast":null,"code":"import _objectSpread from\"/Users/kle1/progs/React/ncei-normals-mapper/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/kle1/progs/React/ncei-normals-mapper/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useContext,useState}from'react';import Typography from'@material-ui/core/Typography';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemText from'@material-ui/core/ListItemText';import Menu from'@material-ui/core/Menu';import MenuItem from'@material-ui/core/MenuItem';import{makeStyles}from'@material-ui/core/styles';import InputParamsContext from'./InputParamsContext';import{elements}from'../utilities/constants';var useStyles=makeStyles(function(theme){return{areaContainer:{borderLeft:\"1pt solid midnightblue\",borderRight:\"1pt solid midnightblue\",borderBottom:\"1pt solid midnightblue\",borderTop:\"0\",padding:\"1em 1em\"},listContainer:{marginTop:\"0.5em\",border:\"1pt solid lightgray\",padding:0}};});var ElementSelect=function ElementSelect(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),anchorEl=_useState2[0],setAnchorEl=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),selectedIndex=_useState4[0],setSelectedIndex=_useState4[1];var inputContext=useContext(InputParamsContext);var classes=useStyles();var isPoint=inputContext.inputParams.areaDef.hasOwnProperty('loc');var handleClickListItem=function handleClickListItem(event){setAnchorEl(event.currentTarget);};var handleMenuItemClick=function handleMenuItemClick(event,index){setSelectedIndex(index);setAnchorEl(null);var newElems=inputContext.inputParams.elems;newElems[0]=_objectSpread(_objectSpread({},newElems[0]),{},{name:elements[index].name,reduce:elements[index].reduce});inputContext.updateInputParams({elems:newElems});};var handleClose=function handleClose(){setAnchorEl(null);};return/*#__PURE__*/_jsxs(\"div\",{className:classes.areaContainer,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"Select element\"}),/*#__PURE__*/_jsx(List,{className:classes.listContainer,\"aria-label\":\"Element selection\",children:/*#__PURE__*/_jsx(ListItem,{button:true,\"aria-haspopup\":\"true\",\"aria-controls\":\"element-menu\",\"aria-label\":\"selected-element\",onClick:handleClickListItem,children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Click to select element\",secondary:\"Currently selected: \"+elements[selectedIndex].menuName})})}),/*#__PURE__*/_jsx(Menu,{id:\"element-menu\",anchorEl:anchorEl,keepMounted:true,open:Boolean(anchorEl),onClose:handleClose,children:elements.map(function(option,index){return/*#__PURE__*/_jsx(MenuItem,{selected:index===selectedIndex,disabled:option.name==='all'&&!isPoint,onClick:function onClick(event){return handleMenuItemClick(event,index);},children:option.menuName},option.menuName);})})]});};export default ElementSelect;","map":{"version":3,"sources":["/Users/kle1/progs/React/ncei-normals-mapper/src/components/ElementSelect.js"],"names":["React","useContext","useState","Typography","List","ListItem","ListItemText","Menu","MenuItem","makeStyles","InputParamsContext","elements","useStyles","theme","areaContainer","borderLeft","borderRight","borderBottom","borderTop","padding","listContainer","marginTop","border","ElementSelect","anchorEl","setAnchorEl","selectedIndex","setSelectedIndex","inputContext","classes","isPoint","inputParams","areaDef","hasOwnProperty","handleClickListItem","event","currentTarget","handleMenuItemClick","index","newElems","elems","name","reduce","updateInputParams","handleClose","menuName","Boolean","map","option"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputParamsContext from './InputParamsContext';\nimport { elements } from '../utilities/constants';\n\nconst useStyles = makeStyles((theme) => ({\n\tareaContainer: {\n\t\tborderLeft: \"1pt solid midnightblue\",\n\t\tborderRight: \"1pt solid midnightblue\",\n\t\tborderBottom: \"1pt solid midnightblue\",\n\t\tborderTop: \"0\",\n\t\tpadding: \"1em 1em\",\n\t},\n\tlistContainer: {\n\t\tmarginTop: \"0.5em\",\n\t\tborder: \"1pt solid lightgray\",\n\t\tpadding: 0,\n\t},\n}));\n\nconst ElementSelect = () => {\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [selectedIndex, setSelectedIndex] = useState(0);\n\tconst inputContext = useContext(InputParamsContext);\n\tconst classes = useStyles();\n\tconst isPoint = inputContext.inputParams.areaDef.hasOwnProperty('loc');\n\n\tconst handleClickListItem = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\n\tconst handleMenuItemClick = (event, index) => {\n\t\tsetSelectedIndex(index);\n\t\tsetAnchorEl(null);\n\t\tconst newElems = inputContext.inputParams.elems;\n\t\tnewElems[0] = {...newElems[0], name: elements[index].name, reduce: elements[index].reduce}\n\t\tinputContext.updateInputParams({elems: newElems});\n\t};\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\n\treturn (\n\t\t<div className={classes.areaContainer}>\n\t\t\t<Typography variant=\"body1\">\n\t\t\t\tSelect element\n\t\t\t</Typography>\n\t\t\t<List className={classes.listContainer} aria-label=\"Element selection\">\n\t\t\t\t<ListItem\n\t\t\t\t\tbutton\n\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\taria-controls=\"element-menu\"\n\t\t\t\t\taria-label=\"selected-element\"\n\t\t\t\t\tonClick={handleClickListItem}\n\t\t\t\t>\n\t\t\t\t\t<ListItemText primary=\"Click to select element\" secondary={\"Currently selected: \"+elements[selectedIndex].menuName} />\n\t\t\t\t</ListItem>\n\t\t\t</List>\n\t\t\t<Menu\n\t\t\t\tid=\"element-menu\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tkeepMounted\n\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\tonClose={handleClose} \n\t\t\t>\n\t\t\t\t{elements.map((option, index) => (\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tkey={option.menuName}\n\t\t\t\t\t\tselected={index === selectedIndex}\n\t\t\t\t\t\tdisabled={option.name === 'all' && !isPoint}\n\t\t\t\t\t\tonClick={(event) => handleMenuItemClick(event, index)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{option.menuName}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t))}\n\t\t\t</Menu>\n\t\t</div>\n\t);\n}\n\nexport default ElementSelect;"]},"metadata":{},"sourceType":"module"}